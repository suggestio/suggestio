# Routes
# This file defines all application routes (Higher priority routes first)
# ~~~~

# Раздача жабаскрипта всем посетителям всех сайтов. Самая частовызываемая функция.
GET  /js/v2/:domain/:qi_id              controllers.Js.v2(domain, qi_id)

# Костыль в связи с проблемами в play-html-compressor в play-2.3 https://github.com/mohiva/play-html-compressor/issues/20
# Без этого костыля, запрос html'ки просто подвисает.
GET  /assets/javascripts/lib/tinymce/js/tinymce/plugins/colorpicker/index.html  controllers.Static.tinymceColorpicker

# Map static resources from the /public folder to the /assets URL path
GET  /assets/*file                      controllers.Assets.at(path="/public", file)

# Home page
GET  /                                  controllers.Application.index
GET  /xd_server                         controllers.Application.xd_server
GET  /search                            controllers.Application.search
GET  /change_locale/:locale             controllers.Application.change_locale(locale:String)

GET  /thumb/get/$imageId<[-_\w\d]+>     controllers.Img.getThumb(imageId)
GET  /search/site                       controllers.Search.siteSearchGET

# ident: логины/логауты
GET  /login2/email_pw                   controllers.Ident.emailPwLoginForm(r: Option[String] ?= None)
POST /login2/email_pw                   controllers.Ident.emailPwLoginFormSubmit(r: Option[String] ?= None)
GET  /logout2                           controllers.Ident.logout
# ident: Восстановление пароля.
GET  /ident/pw/r                        controllers.Ident.recoverPwForm
POST /ident/pw/r                        controllers.Ident.recoverPwFormSubmit
GET  /ident/pw/r/ok                     controllers.Ident.recoverPwAccepted(email: String)
GET  /ident/pw/r/reset/:eActId          controllers.Ident.recoverPwReturn(eActId)
POST /ident/pw/r/reset/:eActId          controllers.Ident.pwResetSubmit(eActId)
# ident: Сменить пароль
GET  /ident/pw/change                   controllers.Ident.changePassword
POST /ident/pw/change                   controllers.Ident.changePasswordSubmit
GET  /ident/rdr/me/somewhere            controllers.Ident.rdrUserSomewhere

## Callback'и инсталляторов и валидаторов сайтов.
POST /js/add_domain                             controllers.Js.addDomain
POST /js/install_url/:domain/:qi_id             controllers.Js.installUrl(domain, qi_id)
GET  /js/install_ws/:domain/:qi_id/:timestamp   controllers.Js.installWs(domain, qi_id, timestamp:Long)
POST /js/ifs/:domain/:qi_id                     controllers.Js.installFromSessionFor(domain, qi_id)

# Пункт меню "О проекте"
GET     /about                          controllers.Static.about

# Пункт меню "Вживую"
GET     /showcase                       controllers.Static.showcase

GET     /badbrowser                     controllers.Static.badbrowser

# Пункт меню "Блог"
GET     /blog                           controllers.Blog.recordList
GET     /blog/:id                       controllers.Blog.readOne(id:String)
GET     /blog/delete/:id                controllers.Blog.deleteRecAdmin(id:String)
GET     /blog/new/                      controllers.Blog.newRec
POST    /blog/new                       controllers.Blog.newRecSubmit
GET     /blog/edit/:id                  controllers.Blog.editRec(id:String)
POST    /blog/edit/:id                  controllers.Blog.editRecSubmit(id:String)

GET     /help                           controllers.Static.help
GET     /help/:page                     controllers.Static.helpPage(page)

# Генератор капч
GET     /captcha/get/:captchaId         controllers.Captcha.getCaptcha(captchaId)

# Админка. Адресация первого sioweb почти сохранена.
GET  /admin                             controllers.Admin.index
GET  /admin/ws/:timestampMs             controllers.Admin.ws(timestampMs:Long)
POST /admin/add_domain                  controllers.Admin.addDomain
POST /admin/delete_domain               controllers.Admin.deleteDomain
GET  /admin/get_validation_file/:domain controllers.Admin.getValidationFile(domain)
GET  /admin/domain_settings/:domain     controllers.Admin.domainSettings(domain)
POST /admin/domain_settings/:domain     controllers.Admin.domainSettingsFormSubmit(domain)
POST /admin/apply_ds/:domain            controllers.Admin.applyDomainSettings(domain)

# Обратная связь.
GET  /feedback                          controllers.Feedback.feedbackForm(isAsync:Boolean ?= false)
POST /feedback                          controllers.Feedback.feedbackFormSubmit


# Входы в личные кабинеты
GET  /m                                 controllers.MarketLk.lkIndex
POST /m/login                           controllers.MarketLk.emailPwLoginFormSubmit(r: Option[String] ?= None)
GET  /m/lk                              controllers.MarketLk.lkList
GET  /m/lk/adn/:adnId                   controllers.MarketLkAdn.showAdnNode(adnId, newAdId: Option[String] ?= None, povAdnId: Option[String] ?= None)
GET  /m/lk/adn/:adnId/edit              controllers.MarketLkAdnEdit.editAdnNode(adnId)
POST /m/lk/adn/:adnId/edit              controllers.MarketLkAdnEdit.editAdnNodeSubmit(adnId)
POST /m/adn/logo/prepare                controllers.MarketLkAdnEdit.handleTempLogo
# Базовый супервайзинг узлов
GET  /m/lk/adn/:adnId/slaves            controllers.MarketLkAdn.showSlaves(adnId, sortByRaw: Option[String] ?= None, isReversed: Boolean ?= false)
POST /m/lk/adn/:adnId/search            controllers.MarketLkAdn.searchSlaves(adnId)
GET  /m/lk/adn/slave/:adnId             controllers.MarketLkAdn.showSlave(adnId)
GET  /m/lk/adn/slave/:adnId/on-off      controllers.MarketLkAdn.nodeOnOffForm(adnId)
POST /m/lk/adn/slave/:adnId/on-off      controllers.MarketLkAdn.nodeOnOffSubmit(adnId)
# Принятие приглашения на управления узлом.
GET  /m/lk/m/:adnId/eact/:eaId          controllers.MarketLkAdn.nodeOwnerInviteAcceptForm(adnId, eaId)
POST /m/lk/m/:adnId/eact/:eaId          controllers.MarketLkAdn.nodeOwnerInviteAcceptFormSubmit(adnId, eaId)
# Супервайзинг рекламных карточек на подчинённых узлах
GET  /m/lk/xadv/wnd/:adId               controllers.MarketAdv.advFullWnd(adId, povAdnId: Option[String] ?= None, advId: Option[Int] ?= None, r: Option[String] ?= None)
POST /m/lk/adn/slave/:adnId/set/tla     controllers.MarketLkAdn.setSlaveTopLevelAvailable(adnId)
GET  /m/lk/adn/ad/slave/:adId           controllers.MarketLkAdnSlaveAd.showSlaveAd(adId)
POST /m/lk/adn/ad/slave/:adId/hide      controllers.MarketLkAdnSlaveAd.slaveAdHideFormSubmit(adId)
GET  /m/lk/adn/:adnId/_ads              controllers.MarketLkAdnSlaveAd._showSlaveAds(adnId)
# Супервайзинг узлов: публикация рекламы на подчинённых узлах.
GET  /m/lk/adn/ad/slave/:adId/publish   controllers.MarketLkAdnSlaveAd.adPublishDialog(adId)
POST /m/lk/adn/ad/slave/:adId/publish   controllers.MarketLkAdnSlaveAd.adPublishDialogSubmit(adId)
# Адвертайзинг: размещение рекламы на узлах-получателях
GET  /m/lk/xadv/:adId/ctl                controllers.MarketAdv.advForAd(adId)
POST /m/lk/xadv/:adId/ctl                controllers.MarketAdv.advFormSubmit(adId)
POST /m/lk/xadv/:adId/price              controllers.MarketAdv.getAdvPriceSubmit(adId)
GET  /m/lk/xadvs/:adnId                  controllers.MarketAdv.showNodeAdvs(adnId)
# Размещение рекламы: обработка запросов размещения.
POST /m/lk/xadvs/req/:advReqId/refuse    controllers.MarketAdv.advReqRefuseSubmit(advReqId: Int, r: Option[String] ?= None)
POST /m/lk/xadvs/req/:advReqId/accept    controllers.MarketAdv.advReqAcceptSubmit(advReqId: Int, r: Option[String] ?= None)

# ЛК: Рекламные карточки
POST /m/lk/ad/:adId/delete              controllers.MarketAd.deleteSubmit(adId)
GET  /m/lk/adn/:adnId/ad/new            controllers.MarketAd.createAd(adnId)
POST /m/lk/adn/:adnId/ad/new            controllers.MarketAd.createAdSubmit(adnId)
POST /m/lk/ap/:adnId/preview            controllers.MarketAdPreview.adFormPreviewSubmit(adnId, isFull: Boolean)
POST /m/lk/ap/:adnId/edit/block         controllers.MarketAdPreview.adBlockSwitchEditor(adnId)
POST /m/lk/ai/:blockId/:fn              controllers.MarketAdPreview.prepareBlockImg(blockId: Int, fn: String)
POST /m/lk/sa/:adId/update/show         controllers.MarketAd.updateShowLevelSubmit(adId)
GET  /m/lk/ad/:adId/edit                controllers.MarketAd.editAd(adId)
POST /m/lk/ad/:adId/edit                controllers.MarketAd.editAdSubmit(adId)
GET  /m/lk/ad/:adId/delete              controllers.MarketAd.deleteWnd(adId)
# lk.billing
GET  /m/lk/bill/adn/:adnId              controllers.MarketLkBilling.showAdnNodeBilling(adnId)
GET  /m/lk/_txns/adn/:adnId             controllers.MarketLkBilling._txnsList(adnId, page: Int ?= 0)
GET  /m/lk/bill/adn/:adnId/pay/bank     controllers.MarketLkBilling.paymentRequsites(adnId)
# lk.billing: рендер списка тарифных сеток MBillMmpDaily для указанного узла
GET  /m/lk/bill/adn/:adnId/mbmds        controllers.MarketLkBilling._renderNodeMbmds(adnId)
GET  /m/lk/bill/adn/:adnId/mbmds/win    controllers.MarketLkBilling._renderNodeMbmdsWindow(adnId)


# Категории: client JSON API. Используется для динамических форм заполнения карточек и в выдаче
GET  /m/c/usr/o/:ownerId/top            controllers.MarketCategory.topCatsOf(ownerId)
GET  /m/c/usr/c/:catId/dc               controllers.MarketCategory.directSubcatsOf(catId)

# Управление промо-офферами (для арендатора и для владельца ТЦ).
GET  /m/lk/s/:shopId/offers             controllers.MarketOffer.showShopPromoOffers(shopId: String)
GET  /m/lk/poffer/add/:shopId           controllers.MarketOffer.addPromoOfferForm(shopId: String)
# promo-offer'ы (poffer)
POST /m/lk/poffer/add/:shopId           controllers.MarketOffer.addPromoOfferFormSubmit(shopId: String)
POST /m/lk/poffer/:offerId/delete       controllers.MarketOffer.deletePromoOfferSubmit(offerId)
GET  /m/lk/poffer/:offerId              controllers.MarketOffer.showPromoOffer(offerId)
GET  /m/lk/poffer/:offerId/edit         controllers.MarketOffer.editPromoOfferForm(offerId)
POST /m/lk/poffer/:offerId/edit         controllers.MarketOffer.editPromoOfferFormSubmit(offerId)


POST /img/tmp/prepare                   controllers.Img.handleTempImg
GET  /img/tmp/:filename                 controllers.Img.getTempImg(filename)
GET  /img/orig/:imgId                   controllers.Img.getOrig(imgId)
GET  /img/any/:imgId                    controllers.Img.getImg(imgId)
GET  /img/crop/:imgId                   controllers.Img.imgCropForm(imgId, width:Int, height: Int, marker: Option[String] ?= None)
POST /img/crop                          controllers.Img.imgCropSubmit

# market
GET  /market/site/:adnId                controllers.MarketShowcase.demoWebSite(adnId)
GET  /market/index/:adnId               controllers.MarketShowcase.showcase(adnId)
GET  /market/site_all/:adnId            controllers.MarketShowcase.myAdsSite(adnId)
GET  /market/index_all/:adnId           controllers.MarketShowcase.myAdsShowcase(adnId)
GET  /market/script/:adnId              controllers.MarketShowcase.nodeSiteScript(adnId)
GET  /market/ads                        controllers.MarketShowcase.findAds(a: AdSearch)
GET  /market/fads                       controllers.MarketShowcase.focusedAds(a: AdSearch, h: Boolean ?= true)

# Сбор статистики.
POST /market/ads/:adnId/stat/:adId      controllers.Market.adStats(adnId, adId, action: String)

# market+join: Присоединение к sio-market.
GET  /market/join/wifi/qs               controllers.MarketJoin.wifiJoinQuestionsForm(j: Option[SMJoinAnswers] ?= None)
POST /market/join/wifi/qs               controllers.MarketJoin.wifiJoinQuestionsFormSubmit
GET  /market/join/wifi                  controllers.MarketJoin.wifiJoinForm(j: SMJoinAnswers)
POST /market/join/wifi                  controllers.MarketJoin.wifiJoinFormSubmit(j: SMJoinAnswers)
GET  /market/join/success               controllers.MarketJoin.joinRequestSuccess
GET  /market/join/xadv                  controllers.MarketJoin.joinAdvRequest
POST /market/join/xadv                  controllers.MarketJoin.joinAdvRequestSubmit

GET  /market/about                      controllers.Market.aboutMarket
GET  /market/about-for-ad-makers        controllers.Market.aboutForAdMakers

# Раздача текстов договора sio market.
GET  /m/contract/:clang                 controllers.Market.contractOfferText(clang)

# /sys/index вместо /sys для решения проблем с rewrite в nginx, который слэши в правилах как-то по-своему трактует.
GET  /sys/index                         controllers.Sys.index
GET  /sys/dkeys/all                     controllers.Sys.dkeysListAll
GET  /sys/dkey/:dkey                    controllers.Sys.dkeyShow(dkey)
GET  /sys/dkey/:dkey/search             controllers.Sys.dkeySearch(dkey)
GET  /sys/addSite                       controllers.Sys.addSiteForm
POST /sys/addSite                       controllers.Sys.addSiteFormSubmit
POST /sys/dkey/:dkey/delete             controllers.Sys.dkeyDelete(dkey)
POST /sys/majorRebuild                  controllers.Sys.majorRebuild
GET  /sys/siobix/actorTree/*path        controllers.Sys.siobixActor(path: String)
GET  /sys/siobix                        controllers.Sys.siobixIndex
GET  /sys/siobix/rebuild                controllers.Sys.siobixRebuild

GET  /sys/siobix/main/rfr/push          controllers.Sys.pushReferrerForm
POST /sys/siobix/main/rfr/push          controllers.Sys.pushReferrerFormSubmit

GET  /sys/indices                       controllers.Sys.indicesIndex
GET  /sys/indices/active                controllers.Sys.indicesListAllActive
GET  /sys/indices/active/:dkey/:vin     controllers.Sys.indicesShowActiveFor(dkey:String, vin:String)
GET  /sys/indices/vin/:vin              controllers.Sys.showVin(vin)
POST /sys/indices/downgrade/ALL         controllers.Sys.indicesDowngradeAll
GET  /sys/inx2/ALL                      controllers.Sys.inx2AllIndices
POST /sys/inx2/create/dflt/mart         controllers.Sys.inx2createDfltMart
# sys.market
GET  /sys/market                        controllers.SysMarket.index
# sys.market.company
GET  /sys/market/companies              controllers.SysMarket.companiesList
GET  /sys/market/company/add            controllers.SysMarket.companyAddForm(c: Option[MCompany] ?= None)
POST /sys/market/company/add            controllers.SysMarket.companyAddFormSubmit
GET  /sys/market/company/:id/edit       controllers.SysMarket.companyEditForm(id: String, r: Option[String] ?= None)
POST /sys/market/company/:id/edit       controllers.SysMarket.companyEditFormSubmit(id: String, r: Option[String] ?= None)
POST /sys/market/company/:id/delete     controllers.SysMarket.companyDeleteSubmit(id: String)
GET  /sys/market/company/:id            controllers.SysMarket.companyShow(id: String)
# sys.market.adn
GET  /sys/market/adn/:adnId             controllers.SysMarket.showAdnNode(adnId)
GET  /sys/market/adns                   controllers.SysMarket.adnNodesList(anmt: Option[String] ?= None)
GET  /sys/market/create/adn             controllers.SysMarket.createAdnNode(supId: Option[String] ?= None)
POST /sys/market/create/adn             controllers.SysMarket.createAdnNodeSubmit(supId: Option[String] ?= None)
POST /sys/market/adn/:adnId/delete      controllers.SysMarket.deleteAdnNodeSubmit(adnId)
GET  /sys/market/ads                    controllers.SysMarket.showAdnNodeAds(a: AdSearch)
POST /sys/market/ad/:adId/rm/rcvr/:rcvrId controllers.SysMarket.removeAdRcvr(adId, rcvrId, r: Option[String] ?= None)
GET  /sys/market/adn/:adnId/edit        controllers.SysMarket.editAdnNode(adnId)
POST /sys/market/adn/:adnId/edit        controllers.SysMarket.editAdnNodeSubmit(adnId)
# sys.market.mart
GET  /sys/market/adn/:id/invite         controllers.SysMarket.nodeOwnerInviteForm(id: String)
POST /sys/market/adn/:id/invite         controllers.SysMarket.nodeOwnerInviteFormSubmit(id: String)
GET  /sys/market/adn/:id/invite/email   controllers.SysMarket.showNodeOwnerEmailInvite(id, isHtml: Boolean)
# sys.market.shop
GET  /sys/market/shop/:id/eact          controllers.SysMarket.showEmailInviteMsg(id, isHtml: Boolean)
GET  /sys/market/s/ad/:adId/email       controllers.SysMarket.showShopEmailAdDisableMsg(adId, isHtml: Boolean ?= true)
# sys.market.shop.pricelist
GET  /sys/market/spl/add/:shopId        controllers.SysMarket.splAddForm(shopId)
POST /sys/market/spl/add/:shopId        controllers.SysMarket.splAddFormSubmit(shopId)
POST /sys/market/spl/:id/delete         controllers.SysMarket.splDeleteSubmit(id: String)
# sys.market.cats
GET  /sys/market/cats/ym                controllers.SysMarket.showYmCats
POST /sys/market/cats/ym/reset          controllers.SysMarket.resetYmCatsSubmit
POST /sys/market/cats/ym/import         controllers.SysMarket.importYmCatsSubmit
GET  /sys/market/cats/usr/add           controllers.MarketCategory.addUserCatForm(ownerId: Option[String], parentId: Option[String])
POST /sys/market/cats/usr/add           controllers.MarketCategory.addUserCatFormSubmit(ownerId: Option[String], parentId: Option[String])
GET  /sys/market/cats/usr/c/:catId      controllers.MarketCategory.showUserCat(catId)
GET  /sys/market/cats/usr/:ownerId      controllers.MarketCategory.showCatsFor(ownerId)
GET  /sys/market/cats/usr/e/:catId      controllers.MarketCategory.editUserCatForm(catId)
POST /sys/market/cats/usr/e/:catId      controllers.MarketCategory.editUserCatFormSubmit(catId)
POST /sys/market/cats/usr/:ownerId/inst/m  controllers.MarketCategory.installMartCategories(ownerId)
POST /sys/market/cats/usr/d/:catId      controllers.MarketCategory.deleteUserCatSubmit(catId)
# sys.market.billing
GET  /sys/market/billing                controllers.SysMarketBilling.index
GET  /sys/market/b/show/:adnId          controllers.SysMarketBilling.billingFor(adnId)
GET  /sys/market/b/contract/new/:adnId  controllers.SysMarketBilling.createContractForm(adnId)
POST /sys/market/b/contract/new         controllers.SysMarketBilling.createContractFormSubmit
GET  /sys/market/b/contract/edit/:cId   controllers.SysMarketBilling.editContractForm(cId: Int)
POST /sys/market/b/contract/edit/:cId   controllers.SysMarketBilling.editContractFormSubmit(cId: Int)
## Платежи обрабатываются вне контекста узлов, ибо при входящем платеже никто не знает, к кому он относится.
GET  /sys/market/b/payment/new          controllers.SysMarketBilling.incomingPaymentForm
POST /sys/market/b/payment/new          controllers.SysMarketBilling.incomingPaymentFormSubmit
POST /sys/market/b/payment/new/confirm  controllers.SysMarketBilling.confirmIncomingPaymentSubmit
## Тарифы: абонплата
GET  /sys/market/btf/new/:contractId     controllers.SysMarketBillingTariff.addFeeTariffForm(contractId: Int)
POST /sys/market/btf/new/:contractId     controllers.SysMarketBillingTariff.addFeeTariffFormSubmit(contractId: Int)
GET  /sys/market/btf/edit/:tariffId      controllers.SysMarketBillingTariff.editFeeTariffForm(tariffId: Int)
POST /sys/market/btf/edit/:tariffId      controllers.SysMarketBillingTariff.editFeeTariffFormSubmit(tariffId: Int)
POST /sys/market/btf/delete/:tariffId    controllers.SysMarketBillingTariff.deleteFeeTariffSubmit(tariffId: Int)
## Тарифы: просмотры/переходы (stat-тарифы)
GET  /sys/market/bts/new/:contractId     controllers.SysMarketBillingTariff.addStatTariff(contractId: Int)
POST /sys/market/bts/new/:contractId     controllers.SysMarketBillingTariff.addStatTariffSubmit(contractId: Int)
GET  /sys/market/bts/edit/:tariffId      controllers.SysMarketBillingTariff.editStatTariff(tariffId: Int)
POST /sys/market/bts/edit/:tariffId      controllers.SysMarketBillingTariff.editStatTariffSubmit(tariffId: Int)
POST /sys/market/bts/delete/:tariffId    controllers.SysMarketBillingTariff.deleteStatTariffSubmit(tariffId: Int)
## Тарифы: посуточные mmp
GET  /sys/market/tmmp/daily/new/:mbcId   controllers.SysMarketBillingMmp.createMmpDaily(mbcId: Int)
POST /sys/market/tmmp/daily/new/:mbcId   controllers.SysMarketBillingMmp.createMmpDailySubmit(mbcId: Int)
GET  /sys/market/tmmp/daily/edit/:mbmdId controllers.SysMarketBillingMmp.editMmpDaily(mbmdId: Int)
POST /sys/market/tmmp/daily/edit/:mbmdId controllers.SysMarketBillingMmp.editMmpDailySubmit(mbmdId: Int)
## sys: Календари
GET  /sys/cal                            controllers.SysCalendar.showCalendars
POST /sys/cal/new/tpl                    controllers.SysCalendar.newCalendarFromTemplateSubmit
POST /sys/cal/new                        controllers.SysCalendar.createCalendarSubmit
GET  /sys/cal/edit/:calId                controllers.SysCalendar.editCalendar(calId)
POST /sys/cal/edit/:calId                controllers.SysCalendar.editCalendarSubmit(calId)
GET  /sys/cal/get/:calId                 controllers.SysCalendar.getCalendarXml(calId)

## sys: invreq - обработка входящих реквестов на подключение.
GET  /sys/ir                             controllers.SysMarketInvReq.index
GET  /sys/ir/show/:mirId                 controllers.SysMarketInvReq.showIR(mirId)
POST /sys/ir/delete/:mirId               controllers.SysMarketInvReq.deleteIR(mirId)
GET  /sys/ir/edit/:mirId/company         controllers.SysMarketInvReq.companyEdit(mirId)
POST /sys/ir/edit/:mirId/company         controllers.SysMarketInvReq.companyEditFormSubmit(mirId)
POST /sys/ir/install/:mirId/company      controllers.SysMarketInvReq.companyInstallSubmit(mirId)
POST /sys/ir/uninstall/:mirId/company    controllers.SysMarketInvReq.companyUninstallSubmit(mirId)
GET  /sys/ir/edit/:mirId/node            controllers.SysMarketInvReq.nodeEdit(mirId)
POST /sys/ir/edit/:mirId/node            controllers.SysMarketInvReq.nodeEditFormSubmit(mirId)
POST /sys/ir/install/:mirId/node         controllers.SysMarketInvReq.nodeInstallSubmit(mirId)
POST /sys/ir/uninstall/:mirId/node       controllers.SysMarketInvReq.nodeUninstallSubmit(mirId)
POST /sys/ir/install/:mirId/eact         controllers.SysMarketInvReq.eactInstallSubmit(mirId)

## sys: mdr - модерация контента
GET  /sys/mdr                            controllers.SysMdr.index
GET  /sys/mdr/freeAdvs                   controllers.SysMdr.freeAdvs(a: MdrSearchArgs ?= MdrSearchArgs(), hideAdId: Option[String] ?= None)
GET  /sys/mdr/freeAdv/:adId              controllers.SysMdr.freeAdvMdr(adId)
POST /sys/mdr/freeAdv/:adId/accept       controllers.SysMdr.freeAdvMdrAccept(adId)
POST /sys/mdr/freeAdv/:adId/ban          controllers.SysMdr.freeAdvMdrBan(adId)

