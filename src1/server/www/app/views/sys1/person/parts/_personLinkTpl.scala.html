@(mnode: MNode, personId: String,  personNames: Map[String, String] = Map.empty,  name: Option[String] = None)(implicit ctx: Context)

@import io.suggest.n2.node.MNodeTypes
@import japgolly.univeq._

@* Рендер ссылки на страницу отображения инфы по юзеру.
   personNames содержит необязательную карту отображаемых имен пользователей.
   Вместо карты можно передать значение прямо в name. *@

<a href="@(if(mnode.common.ntype ==* MNodeTypes.Person) routes.SysPerson.showPerson(personId) else routes.SysMarket.showAdnNode(personId))" title="@personId">
  @(name orElse personNames.get(personId) orElse mnode.guessDisplayName getOrElse personId)
</a>
