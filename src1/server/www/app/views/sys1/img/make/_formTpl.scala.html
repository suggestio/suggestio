@(submitCall: Call, mf: im.make.SysForm_t, makers: Iterable[im.make.MImgMaker])(implicit ctx: Context)

@* Верстка формы для вызова кастомного make. *@

@import helper._
@import ctx._
@import io.suggest.ad.blk.{BlockHeights, BlockWidths}
@import io.suggest.enum2.EnumeratumUtil.toSelectOptions
@import io.suggest.dev.MPxRatios

@form( CSRF(submitCall) ) {

  @* Выбор maker'а из списка допустимых. *@
  @select(
    mf("maker"),
    options = makers.iterator.map(m => m.value -> m.longName).toSeq,
    'title -> "Какой image-maker использовать?"
  )

  <br/>

  <p><strong>Блок карточки</strong></p>

  @select(
    mf("args.blockMeta.width"),
    options = toSelectOptions( BlockWidths ),
    '_label -> "Ширина блока (cssPx)"
  )

  @select(
    mf("args.blockMeta.height"),
    options = toSelectOptions( BlockHeights ),
    '_label -> "Высота блока (cssPx)"
  )

  @checkbox(
    mf("args.blockMeta.wide"),
    '_label -> "Широкоэкранное отображение?"
  )

  @checkbox(
    mf("args.blockMeta.heightGrow"),
    '_label -> "Растягивать по вертикали?"
  )
  <br/>


  <p><strong>Экран клиентского устройства</strong></p>
  @inputText(
    mf("args.devScreen.width"),
    '_label -> messages("Width")
  )

  @inputText(
    mf("args.devScreen.height"),
    '_label -> messages("Height")
  )

  @select(
    mf("args.devScreen.pxRatio"),
    options = ("", "default") :: MPxRatios.values.iterator.map(r => r.toString -> r.pixelRatio.toString).toList,
    '_label -> "Плотность пикселей"
  )

  <br/>


  <p><strong>Рендер</strong></p>
  @inputText(
    mf("args.szMult"),
    '_label -> "Коэфф.масштабирования"
  )

  @select(
    mf("args.compress"),
    options = im.CompressModes.values.iterator.map(c => c.value -> c.nameI18n).toSeq,
    '_label -> "Сжимать как"
  )


  <input type="submit" value="make" />
}
