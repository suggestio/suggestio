@(args: adv.geo.tag.IForAdTplArgs)(implicit ctx: Context)

@* Страница со формой размещения рекламной карточки на внешних сервисах. *@

@import ctx.{messages, request}
@import helper._
@import stuff.geo.radmap._
@import lk.adv.geo.agBase
@import lk.adv.widgets._
@import lk.lkwdgts.price._
@import io.suggest.adv.geo.AdvGeoConstants._
@import adv.tpl._

@agBase(
  title       = messages("Adv.in.geo.tags"),
  mnode       = args.producer,
  mad         = args.mad,
  rightLink   = LkAdvRightLinks.TAGS_GEO,
  rightAfter  = Some( _rightPriceTpl(args.price, formId = FORM_ID) )
) {

  @* URL для рассчета стоимости размещения. *@
  @_getPriceUrlTpl( routes.LkAdvGeo.getPriceSubmit(args.adId) )

  @_advFormBlockTpl() {

    @* Рендер самой формы здесь. *@
    @_AdvGeoFormTpl(args)

    @* Контейнер карты. *@
    <br/>
    @_mapContTpl()
  }

  @* При добавлении тегов запросы add-tag-формы отправляются сюда. *@
  @javascriptRouter("jsRoutes")(
    routes.javascript.LkAdvGeo.tagEditorAddTag,
    routes.javascript.LkAdvGeo.tagsSearch
  )

}
