@(rargs: event.RenderArgs)(implicit ctx: Context)

@* Шаблон для ext.adv-событий об ошибке при обработке цели. *@

@import lk.event._
@import ctx._
@import io.suggest.adv.ext.view.RunnerPage._

@_errorEvtBase(rargs) {

  @rargs.errors.map { err =>
    <p class="event_err-text">Ошибка запуска сервиса
      @rargs.extServiceOpt.map { esrv => &quot;@Messages(esrv.nameI18N)&quot;}:
      @Messages(err.msg, err.args: _*)
    </p>
  }

  <div>
    Следующие цели были пропущены:
    <ul>
      @rargs.advExtTgs.map { esrv =>
        <li>
          <a href="@esrv.url" target="_blank">@esrv.name.getOrElse(esrv.url)</a>
        </li>
      }
    </ul>
  </div>

  @rargs.errors.map { err =>
    @* Если есть доп.информация, то её рендерим под катом *@
    @if(err.info) {
      <p class="dark-link @CLASS_JSLINK_SHOW_ERROR">Показать технические подробности ошибки.</p>
      <div style="display: none;">
        @err.info
      </div>
    }
  }

}
