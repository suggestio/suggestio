@(mad: MAd, mnode: MAdnNode, targets: Seq[adv.MExtTarget], currentAdvs: Map[String, adv.MExtAdv], af: Form[_])(implicit ctx: Context)

@* Страница со формой размещения рекламной карточки на внешних сервисах. *@

@import ctx._
@import helper._
@import util.FC.tdRadialFc


@base("Внешнее размещение карточки", mnode) {

  @form( routes.LkAdvExt.advFormSubmit(mad.id.get) ) {

    @* Сообщения о проблемах с выборкой. СВЕРСТАТЬ, А НЕ КОММЕНТИТЬ КАК ОБЫЧНО! *@
    @af("adv").errors.map { error =>
      <p>Возникла проблема: @Messages(error.message, error.args)</p>
    }

    @targets.iterator.zipWithIndex.map { case (target, i) =>
      <input type="hidden" name="adv[@i].targetId" value="@target.id" />
      <label>
        <input type="checkbox" name="adv[@i].enabled" value="true" style="display: block;" />
        @Messages(target.service.i18nCode)
        @target.name
      </label>
      <label>
        <input type="checkbox" name="adv[@i].return" value="@adv.MExtReturns.default" checked="checked" />
        @* При переходе возвращаться на выдачу *@
      </label>
    }

    <div class="social-target">
      <div class="social-target_name">
        <table class="prop">
          <tr>
            <td class="prop_name">
              <label>Ссылка на группу</label>
            </td>
            <td class="prop_value">
              <div class="input ">
                <input type="text" />
              </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="social-target_option-lst">

          <label class="social-target_option">
            <input class="checkbox" type="radio" name="someName"/>
            <span class="styled-checkbox"></span>&nbsp;Всю выдачу
          </label>


          <label class="social-target_option">
            <input class="checkbox" type="radio" name="someName"/>
            <span class="styled-checkbox"></span>&nbsp;Только эту карточку
          </label>

      </div>
    </div>

    <div class="social-target __success">
      <div class="social-target_icon"></div>
      <div class="social-target_info">
        <p class="social-target_title">https://vk.com/dev/api_confirm</p>
        <p class="social-target_status">Статус: успешно</p>
      </div>
    </div>

    <div class="social-target __error">
      <div class="social-target_icon"></div>
      <div class="social-target_info">
        <p class="social-target_title">https://vk.com/dev/api_confirm</p>
        <p class="social-target_status">Статус: ошибка</p>
      </div>
    </div>

    <div class="social-target __in-process">
      <div class="social-target_icon"></div>
      <div class="social-target_info">
        <p class="social-target_title">https://vk.com/dev/api_confirm</p>
        <p class="social-target_status">Статус: в процессе</p>
      </div>
    </div>

    <a class="btn __size-M __minor add-target" href="@routes.LkAdvExt.createTarget(mnode.id.get)">Добавить цель...</a>
    <hr class="delimiter __light">

    <div class="btn-w __size-XS">
      <input class="btn __size-M __major social-submit" type="submit" value="Начать размещение..." />
    </div>
  }

}
