@(args: adv.geo.IWndFullArgs,  advReq: adv.MAdvReq,  refuseFormM: Form[_])(implicit ctx: Context)

@* Рендер окошка, отображающего предложение размещения рекламной карточки у узла. *@

@import ctx._
@import util.TplDataFormatUtil._
@import helper._
@import util.FC.divFc
@import util.DateTimePrettyPrinter._

@_advWndFullTpl(args) {

  <p class="paragraph __size-M color-light-strong ft-S">
    <strong class="color-strong">
      @messages("Adv.request.from")
      <a class="blue-link" href="@routes.MarketLkAdn.showAdnNode(args.brArgs.mad.producerId)">
        @args.producer.meta.basic.name
      </a>
    </strong>
  </p>

  <p class="paragraph __size-M color-light-strong ft-XS">
    С @formatDate(advReq.dateStart) по @formatDate(advReq.dateEnd)<br/>
    @if( advReq.hasOnAdSl(AdShowLevels.LVL_CATS) ) {
      + @messages("Adv.in.cats")<br/>
    }
    @if( advReq.hasOnAdSl(AdShowLevels.LVL_START_PAGE) ) {
      + @messages("Adv.on.main.screen")
    }

  </p>

  <p class="paragraph __size-M color-light-strong ft-XS">
    <strong class="ft-L adv-req-wind_price">
      @formatPrice(advReq.amount, advReq.currency)
    </strong>
  </p>

  @* Отменить размещение рекламы с указанием причины. *@
  @form(
    CSRF( routes.MarketAdv.advReqRefuseSubmit(advReq.id.get, r = args.goBackTo) ),
    'id     -> "advReqRefuse",
    'class  -> "js-hidden"
  ) {
    @textarea(
      refuseFormM("reason"),
      '_label       -> "",
      'placeholder  -> messages("Write.refuse.reason")
    )

    <div class="submit-w __size-S">

      <a class="siom-ac-btn __color-3 __size-M __ft-XM f-left js-adv-req-forms" >
        @messages("Cancel")
      </a>

      <a class="siom-ac-btn __color-4 __size-M __ft-XM f-right js-submit-btn">
        @messages("Send.rejection")
      </a>

    </div>

  }

  @* Подтвердить размещение рекламы. *@
  @form(
    CSRF( routes.MarketAdv.advReqAcceptSubmit(advReq.id.get, r = args.goBackTo) ),
    'id -> "advReqAccept"
  ) {
    <div class="submit-w __size-S">

      <a class="siom-ac-btn __color-4 __size-M __ft-XM f-left js-adv-req-forms">
        @messages("Cancel.adv")
      </a>

      <a class="siom-ac-btn __color-1 __size-M __ft-XM f-right js-submit-btn">@messages("Approve._adv")</a>

    </div>

  }

}
