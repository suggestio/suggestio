@(args: adv.gtag.IForAdTplArgs)(implicit ctx: Context)

@* Шаблон формы размещения карточки в тегах с географией. *@

@import ctx.{messages, request}
@import helper._
@import util.FC.tdRadialFc
@import io.suggest.common.maps.rad.RadMapConstants._
@import stuff._inputHiddenTpl


@form( CSRF(routes.LkAdvGeoTag.forAdSubmit(args.mad.id.get)) ) {

  @_tagsTpl( args.form )

  @* Для сохранения и восстановления состояния карты при POST нужны hidden-поля в рамках формы. *@
  @defining( args.form("map") ) { mf =>

    @defining( mf("center") ) { mcf =>

      @* Широта (центр). *@
      @_inputHiddenTpl(
        mcf("lat"),
        id = Some(INPUT_ID_LAT)
      )

      @* Долгота (центр). *@
      @_inputHiddenTpl(
        mcf("lon"),
        id = Some(INPUT_ID_LON)
      )

    }

    @* Состояние зума карты. *@
    @_inputHiddenTpl(
      mf("zoom"),
      id = Some(INPUT_ID_ZOOM)
    )
  }

  @* Сюда будет отрендерена карта. *@
  <div id="@CONTAINER_ID" class="radmap-container"></div>

}

