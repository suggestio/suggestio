@(af: Form[_])(implicit ctx: Context)

@* Кусок ad-формы, содержащий инпуты по настройке panelColor. *@
@import ctx._

<table cellpadding="0" cellspacing="0" class="color-list input-wrap big">
  <tr>
    <td class="left">
      <label @if(!af.errors("ad.panelColor").isEmpty) {
	  style="color: #E23131;"
      } >Цвет плашки:</label>
    </td>

    @defining(af("ad.panelColor").value) { currColorOpt =>
    @defining(currColorOpt.getOrElse("000000")) { currColorHex =>
    @defining(Map("000000" -> "black", "ffffff" -> "white", "959595" -> "gray")) { panelColors =>
      <td class="right">
        @panelColors.map { case (colorHex, colorStyle) =>
          <div class="item">
            <input type="checkbox" class="one-checkbox" data-name="panelColor" data-for="panelColor" data-value="@colorHex"
		   @if(colorHex == currColorHex) { data-checked="checked" } />
            <div class="color" style="background: @colorStyle;">&nbsp;</div>
          </div>
        }
        <div class="item">
          <input type="checkbox" class="one-checkbox" data-name="panelColor" data-for="panelColor" data-value="@currColorOpt.getOrElse("000000")"
		 @if(!panelColors.contains(currColorHex) && currColorOpt.isDefined) {data-checked="checked"}
	  />
          <div class="color custom" style="background-color: #@currColorOpt.getOrElse("000000");">&nbsp;
            @* Input для цвета верхней плашки. *@
            <input id="panelColor" type="hidden" name="ad.panelColor" value='@currColorOpt.getOrElse("000000")'/>
          </div>
        </div>
      </td>
    }}}
  </tr>
</table>
