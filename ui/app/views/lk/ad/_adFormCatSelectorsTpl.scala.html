@(cats: Seq[MMartCategory], af: Form[_])(implicit ctx: Context)

@* Механизм задания/изменения категории рекламной карточки. *@

@import helper._

@* Input для id выбранной категории. *@
<div class="categories-select" id="cat-select">
  @defining( af("ad.catId").indexes.flatMap { i => af(s"ad.catId[$i]").value }.toSet ) { catIds =>
    @cats.iterator.zipWithIndex.map { case (mmcat, i) =>
      <label class="edit-ad_category-checkbox-w">
        <input type="checkbox" name="ad.catId[@i]" value="@mmcat.id"
               @if(catIds contains mmcat.id.get) {checked="checked"} />
        <span class="styled-checkbox edit-ad_category-checkbox-title">@mmcat.name</span>
      </label>
    }
    <div class="triger"></div>
  }
</div>

@if(!af.errors("ad.catId").isEmpty) {
  <div style="color: #E23131; font-size: 12px; font-family: 'Arial'; padding: 5px;">Выберите категорию</div>
}
