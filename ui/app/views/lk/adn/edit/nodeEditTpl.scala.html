@(mnode: MAdnNode, mf: Form[_], welcomeAdOpt: Option[MAdT])(implicit ctx: Context)

@* Рендер страницы редактирования узла, имеющего высокий статус, т.е. супервизора или ресивера. *@
@import ctx._
@import lk.popup._
@import lk.adn._

@popupContent = {

  @* Этот попап появляется при щелчке на знак вопроса где-то внизу формы редактора.
     Его контент надо вынести на отдельную страницу. *@
  @_popupTpl(id = Some("editHelp")) {
    <h2 class="colors-help_t">@Html( messages("Info.about.D0.choosing.color.solution", "<br/>") )</h2>
    <div class="colors-help_cnt">
      <span class="colors-help_icons-text">@Html( messages("Color.of.text.and.icons", "<br/>") )</span>
      <span class="colors-help_background-text">@Html( messages("Color.of.bg.and.caption", "<br/>") )</span>
    </div>
    <p class="colors-help_descr">@Html( messages("Use.contrast.colors.hint", "<br/>") )</p>
  }

}


@rightBarAfter = {
  <div class="right-bar_bottom">
    <a class="btn __size-M __major js-submit-btn" data-for="#profileEdit">@messages("Save")</a>
  </div>
}


@nodeBaseTpl(
  title         = messages("Edit.profile"),
  node          = mnode,
  isMyNode      = true,
  rightCurrEl   = NodeRightPanelLinks.RPL_NODE_EDIT,
  rightBarAfter = Some(rightBarAfter),
  popupContent  = Some(popupContent)
) {

  @_leaderNodeFormTpl(
    adnId         = mnode.id.get,
    btnText       = messages("Save"),
    mf            = mf,
    submitCall    = routes.MarketLkAdnEdit.editAdnNodeSubmit(mnode.id.get),
    welcomeAdOpt  = welcomeAdOpt,
    nodeInfo      = mnode.adn
  )

}
