@(args: msc.ScRenderArgs)(implicit ctx: Context)

@* Рендер страницы приветствия, если таковая имеется.
   Она может отсутствовать, иметь фон цвета или фон картинки. *@

@import util.cdn.CdnUtil
@import views.html.sc.stuff._
@import io.suggest.sc.ScConstants.Welcome._
@import io.suggest.sc.ScConstants.Logo

<div id="@ROOT_ID" class="sm-welcome-ad"
     @if(!args.welcomeOpt) {style="background: #@args.bgColor;"} >

  @args.welcomeOpt.fold {

    @* Нету карточки приветствия. *@
    <span class="sm-welcome-ad_helper"></span>
    <img height="@Logo.HEIGHT_CSSPX" class="sm-welcome-div_img"
         src="@args.logoImgOpt.fold( CdnUtil.asset("images/market/showcase-logo.png") )( CdnUtil.dynImg )"
         />

  } { wargs =>

    @* Есть приветствие.
       Рендерим фон приветствия: цвет узла или картинка. *@
    @wargs.bg match {
      case Left(color) => {
        @* Доступен только цвет фона. *@
        <style type="text/css">
          .sm-welcome-ad {
            background-color: @color;
          }
        </style>
      }

      case Right(imgInfo) => {
        @* Доступно фоновое изображение. *@
        <img id="@BG_IMG_ID"
             style="background-color: #@args.bgColor;" class="sm-welcome-ad_bg-img"
             @imgInfo.meta.map { meta =>
               data-width="@meta.width"
               data-height="@meta.height"
             }
             src="@imgInfo.call"/>
      }
    }

    @* Рендерим покрывающую картинку (svg/png) *@
    @wargs.fgImage.map { fgImage =>
      <span class="sm-welcome-ad_helper"></span>
      <img id="@FG_IMG_ID" class="sm-welcome-ad_fg-img"
           data-width="@fgImage.meta.map(_.width)"
           data-height="@fgImage.meta.map(_.height)"
           src="@CdnUtil.dynImg(fgImage.filename)"/>
    }

    @* Рендерим покрывающую картинку (svg/png) *@
    @wargs.fgText.map { fgText =>
      <div id="@FG_INFO_DIV_ID" style="width: 100%; z-index: 100000000000; position: absolute; top: 50%;">
        @_nodeNameTpl(args.fgColor) {
          @fgText
        }
      </div>
    }

  } @* fold *@
</div>
