@(args: msc.ScRenderArgs)(implicit ctx: Context)

@import util.TplDataFormatUtil._
@import views.html.sc.stuff._

@_scrollableContainerTpl( "sm-shops", "smShops", "style" -> (_bgcolor( args.bgColor, false ).toString + "display: block;") ){
<div class="shops-list">

  @args.shopsLetterGrouped.map { case ((letter, mshops), i) =>

    <div class="shops-list_row @*if(i%2 == 0){__odd}*@" style="@_bgcolor( args.bgColor ); opacity: 0.8; color: #@args.fgColor;">
      <div class="shops-list_letter" style="border-color: #@args.fgColor;">@letter</div>
    </div>

    @* Рендер списка магазинов или иных рекламодателей. *@
    @mshops.zipWithIndex.map { case (mshop, si) =>
      @args.jsStateOpt.map { jsState =>
        <a href="@args.syncUrl( jsState.copy(fadsProdIdOpt = mshop.id) )">
      }
      <div class="shops-list_row @if((si)%2 == 0){__odd} js-shop-link" data-producer-id="@mshop.id">
        @mshop.meta.name
      </div>
      @if( args.jsStateOpt ) {
        </a>
      }
    }

  }


  @defining( colorRgb2Hsl(colorHex2rgb(args.bgColor)) ) { hslColor =>
  <style type="text/css">
.shops-list_row {
  color:#@args.fgColor;
}
.shops-list_row.__odd {
  background-color: hsl( @{hslColor(0)}, @{hslColor(1)}%, @{hslColor(2)-2}% );
}
  </style>
  }

</div>
}
