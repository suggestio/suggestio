@(meta: MMeta)(implicit ctx: Context)

@* Блок верстки, отображающий поля метаданных узла. *@
@import ctx._
@import datetime._
@import util.TplDataFormatUtil._
@import io.suggest.util.UrlUtil._
@import sys1.stuff.proptable._


@_ptableTpl() {

  @meta.basic.nameOpt.map { name =>
    @_ptableRowTpl(messages("Name") + ":") {
      @name
    }
  }

  @meta.basic.techName.map { tn =>
    @_ptableRowTpl("Техническое имя:") {
      @tn
    }
  }

  @meta.basic.hiddenDescr.map { descr =>
    @_ptableRowTpl( "Скрытое описание:" ) {
      @descr
    }
  }

  @_ptableRowTpl( messages("Created")+":") {
    @_prettyDate(meta.basic.dateCreated, withSpan = true)
  }

  @meta.basic.dateEdited.map { de =>
    @_ptableRowTpl( messages("Edited") + ":") {
      @_prettyDate(de, withSpan = true)
    }
  }

  @meta.address.town.map { town =>
    @_ptableRowTpl( "Город:") {
      @town
    }
  }

  @meta.business.audienceDescr.map { audDescr =>
    @_ptableRowTpl( "Описание аудитории:") {
      @audDescr
    }
  }

  @meta.business.humanTrafficAvg.map { htAvg =>
    @_ptableRowTpl( "Человеческий трафик:") {
      @formatIntHtml(htAvg) чел. в день
    }
  }

  @meta.business.info.map { info =>
    @_ptableRowTpl( "Информация о товарах/услугах:") {
      @info
    }
  }

  @meta.address.address.map { address =>
    @_ptableRowTpl( messages("Address") + ":") {
      @address
    }
  }

  @meta.address.phone.map { phone =>
    @_ptableRowTpl( messages("Phone") + ":") {
      @phone
    }
  }

  @meta.address.floor.map { floor =>
    @_ptableRowTpl( messages("Floor") + ":") {
      @floor
    }
  }

  @meta.address.section.map { section =>
    @_ptableRowTpl( messages("Section") + ":") {
      @section
    }
  }

  @meta.business.siteUrl.map { siteUrl =>
    @_ptableRowTpl( "Сайт:") {
      <a class="blue-link" href="http://anonym.to/?@siteUrl" target="_blank" title="@humanizeUrl(siteUrl)">
        @humanizeUrlAggressive(siteUrl)
      </a>
    }
  }

  @if( meta.colors.nonEmpty ) {
    @_ptableRowTpl( messages("Colors") ) {
      @_colorInfoTpl("Bg", meta.colors.bg)
      @_colorInfoTpl("Fg", meta.colors.fg)
      @_colorInfoTpl("Pattern", meta.colors.pattern)
    }
  }

}
