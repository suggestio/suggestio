@(supOpt: Option[MAdnNode], af: Form[MAdnNode], companies: Seq[MCompany], ncpf: Form[msys.NodeCreateParams])(implicit ctx: Context)

@* Страница с формой создания нового узла рекламной сети. *@
@import ctx._
@import helper._

@formAfter = {
  @checkbox(
    ncpf("billInit"),
    '_label -> "Инициализировать биллинг?"
  )

  @checkbox(
    ncpf("extTgsInit"),
    '_label -> "Создать дефолтовые цели размещения (соц.сети)?"
  )

  @checkbox(
    ncpf("withDfltMads"),
    '_label -> "Создать дефолтовые рекламные карточки?"
  )
}

@adnBase("Создать новый ADN-узел") {

  <div class="sys_t">
    @supOpt.fold {
      Будет создан узел вернего уровня.
    } { sup =>
      Родительский узел: <a class="blue-link" href="@routes.SysMarket.showAdnNode(sup.id.get)">@sup.meta.name / @sup.meta.town</a>
    }
  </div>

  @_adnNodeFormTpl(
    af	      = af,
    call      = routes.SysMarket.createAdnNodeSubmit(supOpt.flatMap(_.id)),
    companies = companies,
    btnText   = messages("Create"),
    formAfter = Some(formAfter)
  )
}
