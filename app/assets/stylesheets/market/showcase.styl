@import 'fonts.styl'
@import 'categories.styl'

spriteurl = url('/assets/images/sio-market-sprite.png')
spritesize = 300px 100px


border-radius( param )
  -webkit-border-radius : param
  -moz-border-radius : param
  -o-border-radius : param
  border-radius : param

transform( param )
  -webkit-transform : param
  -moz-transform : param
  -o-transform : param
  transform : param

box-shadow( param )
  -webkit-box-shadow: param
  -moz-box-shadow: param
  box-shadow: param

.sm-clear
  clear: both

.sm-preload
  width: 1px
  height: 1px
  overflow: hidden
  position: absolute
  left : -1px
  top: -1px

.sm-notification
  display: none
  background: rgba(0, 0, 0, 0.8)
  width: 100%
  height: 100%
  position: absolute
  left: 0px
  top: 0px
  z-index: 100001
  color: #fff
  font-family: 'pfdintextcomppro-medium-webfont'

  .data
    position: absolute
    top: 50%
    width: 100%
    text-align: center
    margin-top: -50px
    font-size: 20px

.sio-mart-showcase 
  position: fixed
  width: 100%
  height: 100%
  left: 0px
  top: 0px
  z-index: 999

  .sm-block
    -webkit-tap-highlight-color:rgba(0,0,0,0)

  /*************************/
  /* Общие кнопки в хидере */
  /*************************/
  .sm-back-close-button
    position: absolute
    left: 5px
    top: 0px
    z-index: 1002
    overflow: hidden
    width: 50px
    height: 50px
  .sm-back-close-button__inner
    width: 50px
    height: 27px
    margin-left: 10px
    margin-top: 10px
  .sm-back-close-button__span
    display: block
    cursor: pointer
    float: left
    width: 25px
    height: 27px
    background: spriteurl no-repeat left 3px
    background-size: spritesize
  .sm-back-close-button__span:active
    margin-top: 1px

  .sm-back-close-button__span_close
    background-position: -54px top

  .sm-back-close-button__span_back-mask
    background-position: -95px -12px
  img
    margin: 0px
    border: 0px

  /* Хидер ТЦ / Ресторана / ... */
  .sio-mart__producer-header
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 30px
    padding: 10px 0px
    text-align: center
    z-index: 10
    box-shadow( 1px 1px 2px #222 )

  /* Офферы на главной странице выдачи */
  .sio-mart__index-offers
    position: relative
    width: 100%
    height: 100%
    overflow-y: scroll
    -webkit-overflow-scrolling: touch
    padding-top: 60px

  .sio-mart__index-offers__container
    margin: 0px auto

  .sio-mart__single-offer
    background-color: #fff
    position: absolute
    cursor: pointer

  .sio-mart__node-offers-root
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 100%
    z-index: 1003
    display: none

  .sio-mart__node-offers
    z-index: 1003
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 100%
    background-image: url('/assets/images/market-showcase-popup-bg.png')

  .sio-mart-node-offers-window
    position: relative
    height: 100%
    width: 100%

  .sio-mart-node-offers-window__root-container
    position: relative
    height: 100%
    overflow: hidden

  .sio-mart-node-offers-window__root-container.sio-mart-node-offers-window__root-container_animated
    transition: all 0.3s ease
    -webkit-transition: all 0.3s ease

  .sio-mart-node-offers-window__single-ad-container
    width: 600px
    height: 100%
    float: left
    overflow-y: scroll
    -webkit-overflow-scrolling: touch

  .sio-mart-node-offers-window__top-offset
    height: 80px

  .sio-mart-node-offers-window__page-marker
    position: absolute
    right: 17px
    top: 17px
    z-index: 4
    font-family: 'pfdintextcomppro-medium-webfont'
    font-size: 15px

  .sio-mart-showcase-page-marker__label
    color: #787878
    line-height: 14px
    float: left
    margin-right: 10px

  .sio-mart-showcase-page-marker__no
    border-radius( 50px )
    color: #fff
    float: left
    padding: 16px 10px
    margin-top: -12px
    background: rgba(0,0,0,0.8)

  .sio-mart-node-offers-window__single-ad-w-border
    position: relative
    background: #fff
    padding: 11px
    .sm-block
      position: relative

  .sio-mart-node-offers-window__single-ad-location
    background: #fff
    margin: 2px 0px
    padding: 11px

  .sio-mart-node-offers-window__single-ad-descr
    padding: 0px
    font-family: Arial
    font-size: 16px
    line-height: 20px
    padding: 40px

  .sio-mart-node-offers-window__single-ad-descr
    p
      padding: 0px
      margin: 0px

    a
      color: #1042a8

  .sio-mart-node-offers-window__bottom_margin
    height: 30px

  .sm-now-location
    position: relative
    font-family: 'pfdintextcomppro-medium-webfont'
    font-size: 14px

  .sm-now-location__icon
    width: 19px
    height: 37px
    background: spriteurl -204px -6px
    background-size: spritesize
    float: left
    padding-right: 11px
  .sm-now-location__info
    strong
      display: block
      font-size: 17px
      font-weight: normal



  /* Searchfield */

  .sm-search-bar
    display: none
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 50px
    border-bottom: rgba(0,0,0,0.5)
    background: #fff
    z-index: 1005

  .sm-search-bar__field
    height: 43px
    margin-left: 44px
    margin-right: 44px
    padding-top: 7px

  .sm-search-bar__container
    height: 32px
    background: #e3e8ea
    border: 1px #bcc2c6 solid

  .sm-search-bar__input
    height: 32px
    background: none
    border: 0px
    color: #bcc2c6
    width: 90%
    padding-left: 15px
    outline: none
    font-family : 'pfdintextcomppro-medium-webfont'
    font-size: 15px

  .sm-search-bar__icon
    position: absolute
    right: 10px
    top: 11px
    display: block
    width: 26px
    height: 26px
    background: spriteurl -139px -12px
    background-size: spritesize
    cursor: pointer

  .sm-search-bar__icon:active
    background-position: -139px -11px

.sm-welcome-ad
  position: absolute
  left: 50%
  top: 50%
  z-index: 1000000

.sm-welcome-ad__img
  -webkit-transition: opacity 0.7s linear
  -moz-transition: opacity 0.7s linear

.sm-welcome-ad__img_fade-out
  opacity: 0

.sio-mart-showcase

  .categories-button
    position: absolute
    right: 0px
    top: 0px
    z-index: 1002
    padding: 10px 15px 14px 15px
    span
      cursor: pointer
      width: 25px
      height: 25px
      display: block
      background: spriteurl no-repeat left top
      background-size: spritesize
      background-position: -27px 0px
    span:active
      margin-top: 1px
  .sm-button
    display: block
    color: #fff
    border: 5px #fff solid
    font-size: 30px 
    padding: 15px 10px
    font-family: 'pfdintextcomppro-medium-webfont'
    text-decoration: none
    text-align: center
    cursor: pointer

  /*****************************/
  /* Экран с выбором категории */
  /*****************************/
  .sm-categories-screen
    display: none
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 100%
    background: #ce2222
    background-color: rgb(206, 34, 34)
    z-index: 1003

    .sm-categories-list
      .sm-single-categorie
        color: #fff
        font-family : 'pfdintextcomppro-medium-webfont'
        font-size: 18px

  /******************************/
  /* Экран со списком магазинов */
  /******************************/
  .sm-shopList-screen
    display: none
    position: absolute
    left: 0px
    top: 0px
    width: 100%
    height: 100%
    background: #e3e8ea
    z-index: 1004
    overflow: scroll

    .sm-shops-list
      width: 960px
      margin: 0 auto
      padding-top: 50px
      .item
        float: left
        width: 310px
        margin: 0 5px
        padding-top: 25px
        font-family: 'pfdintextcomppro-medium-webfont'
        .letter
          font-size: 24px
          padding-bottom: 5px
          padding-left: 15px
        .shop
          display: block
          padding: 10px 15px
          font-size: 12px
          color: black
          text-decoration: none
          cursor: pointer

  .sm-shops-list__delimiter
    height: 1px
    width: 100%
    background: #bcc2c6
    clear: both

  /**************************************************/
  /* Экран с предупредлением о выходе из Sio.Market */
  /**************************************************/
  .sm-close-screen
    display: none
    position: absolute 
    width: 100%
    height: 100%
    left: 0px
    top: 0px
    background: rgba(0,0,0,0.85)
    z-index: 10004
    font-family : 'pfdintextcomppro-medium-webfont'
    font-size: 30px
    text-align: center

    p
      padding: 0px
      margin: 20px 0px
      font-size: 30px

    .es-container
      position: absolute
      width: 603px
      left: 50%
      top: 50%
      margin-left: -301px
      margin-top: -250px
      color : #fff

    strong
      display: block
      font-size: 72px

    .sm-button
      float: left 
      width: 260px

    .sm-button.sm-close-button
      margin-right: 23px
      color: #ec7676
      border-color: #ec7676

.sio-mart-trigger
  cursor: pointer
  position: fixed
  left: 2px
  top: 2px
  background: rgba(0,0,0,0.5)
  color: #fff
  padding: 10px
  font-family : 'pfdintextcomppro-medium-webfont'

@import 'blocks.styl'

.sm-w-980
  .sm-shops-list
    width: 724px!important
    .item
      width: 230px!important

.sm-w-800
  .sm-shops-list
    width: 544px!important
    .item
      width: 170px!important

.sm-w-400
  .sm-shops-list
    width: 318px!important
    .item
      width: 96px!important

  .sm-close-screen 
    font-size: 16px
    .es-container
      width: 320px!important
      margin-left: -160px!important
      margin-top: -150px!important

    strong
      font-size: 46px!important

    p
      font-size: 16px!important

    a
      font-size: 16px!important

    .sm-button
      margin-left: 2px!important
      border-width: 3px!important
      width: 116px!important
      padding: 8px 11px!important

  .sio-mart-node-offers-window__single-ad-w-border
    padding: 0px

  .sio-mart-node-offers-window__top-offset
    height: 60px

  .sio-mart-node-offers-window__bottom_margin
    height: 10px