@(rf: Form[_])(implicit ctx: util.Context)

@* Страница с формой логина. *@
@import ctx._
@import helper._
@import controllers.Ident.{CAPTCHA_ID_FN, CAPTCHA_TYPED_FN}
@import io.suggest.util.StringUtil.randomId
@import util.FC.radialFc


<div class="popup __index" id="recoverPwForm">

  <div class="popup_header __index">
    <a href="#emailPwLoginForm" class="popup__back-btn f-left js-popup-back"></a>
    <a class="close f-right js-close-popup" href="#">&nbsp;</a>
  </div>


  @form(routes.Ident.recoverPwFormSubmit, 'class -> "recover-popup__content__form") {
    <div class="popup_cnt __index">

      <div class="popup_t __index">
        Восстановить пароль
      </div>

      @inputText(
        rf("email"),
        '_label -> "Электронная почта, указанная при регистрации:"
      )

      @* Капча *@
      <table class="captcha-table">
        <tr>

          <td class="captcha-table_left">
            @inputText(
            rf(CAPTCHA_TYPED_FN),
            '_label -> Messages("Input.text.from.picture")
            )
          </td>

          <td class="captcha-table_right">
            @defining( rf(CAPTCHA_ID_FN).value.filter(!_.isEmpty).getOrElse(randomId(6, ctx.PRNG)) ) { captchaId =>
              <input id="captchaId" type="hidden" name="captchaId" value="@captchaId"/>
              <div class="captcha">
                <img class="captcha-table_image captcha_image" id="captchaImage" src="@routes.Captcha.getCaptcha(captchaId)" alt=""/>
                <a id="captchaReload" class="captcha-reload-btn" href=""></a>
              </div>
            }
          </td>

        </tr>
      </table>

    </div>

    <div class="popup_footer __index">
      <div class="btn-w __size-M">
        <input class="siom-new-btn __size-XS __fill-1" type="submit" value='Отправить'/>
      </div>
    </div>

  }

</div>
