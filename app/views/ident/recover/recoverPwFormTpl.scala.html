@(rf: Form[_])(implicit ctx: util.Context)

@* Страница с формой логина. *@
@import ctx._
@import helper._
@import controllers.Ident.{CAPTCHA_ID_FN, CAPTCHA_TYPED_FN}
@import io.suggest.util.StringUtil.randomId
@import util.FC.divFc


<div class="popup recover-popup" id="recoverPwForm">

  <div class="hat">
    <a href="#emailPwLoginForm" class="popup__back-btn f-left js-popup-back"></a>
    <a class="close" href="#">&nbsp;</a>
  </div>

  <div class="content recover-popup__content">

    <div class="popup-title ">
      ВОССТАНОВИТЬ ПАРОЛЬ
    </div>


    @form(routes.Ident.recoverPwFormSubmit, 'class -> "recover-popup__content__form") {
      @inputText(
        rf("email"),
        '_label -> "Электронная почта, указанная при регистрации:"
      )


      @* Капча *@
      @defining( rf(CAPTCHA_ID_FN).value.filter(!_.isEmpty).getOrElse(randomId(6, ctx.PRNG)) ) { captchaId =>
        <input type="hidden" name="captchaId" value="@captchaId"/>
        <img src="@routes.Captcha.getCaptcha(captchaId)" alt=""/>
      }

      @inputText(
        rf(CAPTCHA_TYPED_FN),
        '_label -> Messages("Input.text.from.picture")
      )


      <div class="recover-popup__submit-wrap">

        <div class="blue-btn-new js-submit-wrap">
          <span class="btn"></span>
          <input type="submit" value="Отправить"/>
        </div>

      </div>

    }

  </div>

</div>
