@* Блок к удалению. *@
@(mad: MAdT, args: BlockRenderArgs)(implicit ctx: Context)

@import svg._
@import common._
@import util.TplDataFormatUtil._
@import util.blocks.BlocksConf.{Block24 => bc}
@import BSvgColorNames._

@blockBase(args, mad, bc) {

  @bgImgTpl(mad, bc,
    cssClass = Some("bg abs"),
    dfltImg = Some("images/market/blocks/tpl5-bg.jpg")
  )

  @defining( mad.colors.getOrElse(bc.fillColorBf.name, bc.fillColorBf.anyDefaultValue) ) { fillColor =>
    <img class="mask abs" src="@routes.MarketShowcase.blockSvg(BlocksSvg.mask24, Map(Fill -> fillColor))" alt="" />
  }

  <div class="info">
    <img class="logo" src="@mad.imgs.get(bc.LOGO_IMG_FN).map(_.filename).map(routes.Img.getImg).getOrElse(routes.Assets.at("images/market/blocks/tpl5-logo.jpg"))" />
    @mad.offers.headOption.map { offer =>
      @offer.text1.map { text1 =>
        <div @_aovfStyleTpl(text1, bc.titleBf, "title")>
          @Html(text1.value)
        </div>
      }
      @offer.oldPrice.map { oldPrice =>
        <div @_aovfStyleTpl(oldPrice, bc.oldPriceBf, "old-price")>
          @formatPrice(oldPrice.value, oldPrice.currency)
        </div>
      }
      @offer.price.map { price =>
        <div @_aovfStyleTpl(price, bc.priceBf, "price")>
          @formatPrice(price.value, price.currency)
        </div>
      }
    }
  </div>

}
