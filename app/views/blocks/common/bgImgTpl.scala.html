@(mad: MAdT, bc: util.blocks.SaveBgImgI, cssClass: Option[String] = None, dfltImg: Option[String] = None, alt: Option[String] = None, style: Option[String] = None)(implicit ctx: Context)

@import util.blocks.BlocksUtil.IMG_BG_COLOR_FN

@* Код для рендера тега/тегов, относящихся к фоновой (основной) картинке блока. *@

@defining( mad.imgs.get(bc.BG_IMG_FN).map(_.filename).map(routes.Img.getImg) ) { image =>

  @if(image) {
    <img @cssClass.map { _cssClass => class="@_cssClass" }
      src="@image"
      @defining( mad.colors.get(IMG_BG_COLOR_FN) ) { iBgColorOpt =>
        @if(iBgColorOpt.isDefined || style.isDefined) {
          style="@iBgColorOpt.map {ibgColor => background-color:#@ibgColor;}@style"
        }
      }
      alt="@alt"
    />
  } else {
    <div class="no-photo"></div>
  }

}
