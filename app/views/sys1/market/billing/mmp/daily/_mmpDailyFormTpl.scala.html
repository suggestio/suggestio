@(mdf: Form[_], btnText: String, submitCall: Call, mcals: Seq[MCalendar])(implicit ctx: Context)

@* Костяк формы создания/редактирования посуточного mmp-тарификатора. *@

@import ctx._
@import helper._

@form(submitCall) {

  @inputText(
    mdf("currencyCode"),
    '_label -> "Валюта контракта (RUB, USD, EUR, ...)"
  )

  <h4>Минимальная стоимость модуля</h4>

  @inputText(
    mdf("mmpWeekday"),
    '_label -> "Будни"
  )

  @inputText(
    mdf("mmpWeekend"),
    '_label -> "Выходные"
  )

  @inputText(
    mdf("mmpPrimetime"),
    '_label -> "Прайм"
  )

  @inputText(
    mdf("onStartPage"),
    '_label -> "Множитель на главный экран",
    'title  -> "Во сколько раз изменять цену, если выставлена галочка размещения на главном экране?"
  )

  @* Рендерим селекторы для календарей. *@
  @defining( mcals.map(mcal => mcal.id.get -> mcal.name) ) { mcalsOptions =>
    @select(
      mdf("weekendCalId"),
      options = mcalsOptions,
      '_label  -> "Календарь выходных/праздников"
    )

    @select(
      mdf("primeCalId"),
      options = mcalsOptions,
      '_label  -> "Календарь дней прайм-тайма"
    )
  }
  <input type="submit" value="@btnText"/>
}
