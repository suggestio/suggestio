@(marts: Seq[MMart], companies: Option[Map[MCompany.CompanyId_t, MCompany]] = None)(implicit ctx: util.Context)

@* Рендер списка торговых центров. Вставляется из других шаблонов.
   Если передана карта компаний, то будет вставлена колонка с указанием названия конторы-владельца ТЦ
   и ссылки на неё. *@
@import ctx._

<table>
  <tr>
    <th>@Messages("Name")</th>
    <th>@Messages("Address")</th>
    @if(companies.isDefined) { <th>@Messages("Company")</th> }
  </tr>
  @marts.map { mart =>
    <tr>
      <td><a href="@routes.SysMarket.martShow(mart.id.get)">@mart.name</a></td>
      <td>@mart.address</td>
      @companies.map { _companies =>
        <td>
          @_companies.get(mart.companyId).map { mc =>
            <a href="@routes.SysMarket.companyShow(mc.id.get)">@mc.name</a>
          }
        </td>
      }
    </tr>
  }
</table>

