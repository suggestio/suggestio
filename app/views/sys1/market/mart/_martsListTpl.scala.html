@(marts: Seq[MMart], withCompany:Option[Option[MCompany]] = None)(implicit ctx: util.CtxWithSqlConn)

@* Рендер списка торговых центров. Вставляется из других шаблонов. *@
@import ctx._

<table>
  <tr>
    <th>@Messages("Name")</th>
    <th>@Messages("Address")</th>
    @if(withCompany.isDefined) { <th>@Messages("Company")</th> }
  </tr>
  @marts.map { mart =>
    <tr>
      <td><a href="@routes.SysMarket.martShow(mart.id.get)">@mart.name</a></td>
      <td>@mart.address</td>
      @withCompany.map { maybeCompany =>
        <td>
          <a href="@routes.SysMarket.companyShow(mart.company_id)">
              @maybeCompany.getOrElse(mart.company.name)
          </a>
        </td>
      }
    </tr>
  }
</table>

