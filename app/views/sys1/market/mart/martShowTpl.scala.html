@(mmart: MMart, shops:Seq[MShop], owner: Option[MCompany] = None)(implicit ctx: util.Context)

@* Страница, отображающая информацию по торговому центру. *@
@import sys1.market._, shop._
@import ctx._
@import datetime._
@import helper._

@martBase(mmart.name) {
  <h2>@mmart.name</h2>
  <p>@Messages("Mart"). <a href="@routes.SysMarket.martEditForm(mmart.id.get)">@Messages("Edit")</a></p>
  @_martDeleteFormTpl(mmart.id.get)

  <br/>

  <p>@Messages("Address"): @mmart.address</p>
  @owner.map { mc =>
    <p>@Messages("Owner"): <a href="@routes.SysMarket.companyShow(mc.id.get)">@mc.name</a></p>
  }
  @mmart.site_url.map { siteUrl =>
    <p>Ссылка на сайт: <a href="@siteUrl">@siteUrl</a></p>
  }
  <p>@Messages("Created"): @_prettyDate(mmart.date_created, withSpan = true)</p>

  @if(shops.isEmpty) {
    <p>В этом торговом центре нет зарегистрированных магазинов.</p>
  } else {
    <h3>Магазины в торговом центре (@shops.size)</h3>
    @_shopsListTpl(shops, marts=Some(Map(mmart.id.get -> mmart)))
  }

  <a href="@routes.SysMarket.shopAddForm">Создать новый магазин</a>
}
