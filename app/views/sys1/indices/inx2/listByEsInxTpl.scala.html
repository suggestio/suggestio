@(minxsGrouped: Map[String, Seq[MInxT]], allMartsMap: Map[String, MAdnNode])(implicit ctx: util.Context)

@* Страница для вывода групп индексов по реальным индексам. *@
@import helper._

@inx2Base("Все индексы inx2") {
  @if(minxsGrouped.isEmpty) {
    Пока нет индексов.
  }

  <ul>
    @minxsGrouped.map { case (esIndexName, minxs) =>
      <li><b>@esIndexName</b>
        <ul style="list-style: none;">
          @minxs.map {
            case minx: MMartInx => {
              <li>
                + <a href="@routes.SysMarket.martShow(minx.martId)">
                  @allMartsMap.get(minx.martId).map(_.meta.name).getOrElse("ТЦ ???")
                </a>
              </li>
            }
          }
        </ul>
      </li>
    }
  </ul>

  <br/><hr/><br/>
  @form(routes.Sys.inx2createDfltMart) {
    <input type="submit" value="MMartInx.createIndex(DFLT)" title="Создать дефолтовый индекс для ТЦ"/>
  }
}
