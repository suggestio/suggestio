@(mmart: MAdnNode, ads: Seq[MAd], shops: Map[String, MAdnNode], mmcats: Seq[MMartCategory], welcomeAdOpt: Option[MWelcomeAd])(implicit ctx: util.Context)

@* Начальная страница для sio-market. *@

@* Картинка-приветствие для первого экрана *@

@*<img id="smWelcomeAd" class="poster-photo index-welcome-ad" data-width="@welcomeAdOpt.map(_.img.meta.map(_.width))" data-height="@welcomeAdOpt.map(_.img.meta.map(_.height))" src="@ctx.myAudienceUrl@welcomeAdOpt.map(_.img.filename).filter(!_.isEmpty).map {imgId =>@routes.Img.getImg(imgId)}.getOrElse {}"/>*@

@* Основной контейнер, шапка + карточки *@

<div class="sio-mart__node-offers-root" id="sioMartNodeOffersRoot">
</div>

@_screen_nav_button("close", "smCloseButton")

@* Кнопка вызова окошка с категориями, находится всегда справа сверху *@
<div class="categories-button">
  <span id="smCategoriesButton"></span>
</div>

<div class="sio-mart__producer-header" style="background-color: #@mmart.meta.color;">
  @mmart.logoImgOpt.map { logoImg =>
    <img id="rootNodeLogo" class="sm-offer-logo" height="30" src="@ctx.myAudienceUrl@routes.Img.getImg(logoImg.filename)"/>
  }
</div>

<div class="sio-mart__index-offers">
  <div class="sio-mart__index-offers__container" id="sioMartIndexGridLayout">
    <div id="sioMartIndexGrid" style="padding-bottom: 30px">

      @_block_offers_list(mmart, ads, shops, true)

      @*for(i <- 0 to 0) {
        <div class="sm-block-spacer" data-width="140" data-height="140" style="background: #fff; display: none; width: 140px; height: 140px; position: absolute;"></div>
      }*@

    </div>
  </div>
</div>

<div class="sm-notification" id="smNotification">
  <div class="data" id="smNotificationData"></div>
</div>

<div class="sm-preload">
  <img src="@ctx.myAudienceUrl/assets/images/market/categories/icons.png">
</div>

@* Окно с выбором категорий *@
@_categories_w_search(mmcats,mmart)

@* Окно с предупреждением о выходе из Sio.Market *@
@_exit_screen()

@* Окно с выбором магазина *@
@_shop_list(shops,mmart)
