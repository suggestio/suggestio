@(mmart: MMart, ads: Seq[MMartAdIndexed], shops: Map[ShopId_t, MShop], mmcats: Seq[MMartCategory])(implicit ctx: util.Context)

@* Начальная страница для sio-market. *@

@market.showcase.baseTpl() {

  <div class="sm-screen">

    @* Кнопка назад / выход *@
    <div class="back-close-button">
      <div class="cb-i">
        <a class="close" id="smCloseButton" href=""></a>
        <a class="back" href=""></a>
      </div>
    </div>

    @* Кнопка вызова окошка с категориями, находится всегда справа сверху *@
    <div class="categories-button">
      <a href="" id="smCategoriesButton"></a>
    </div>

    @* Список офферов, подгружается динамически *@
    <div class="sm-offers" id="smOffers">
      @* Тут выводим офферы списком *@
      @if(ads.isEmpty) {
        @* TODO Надо что-то отобразить, когда нет рекламы в ТЦ. *@
        Нет рекламы
      } else {
        @ads.map { ad =>
          @_single_offer(ad, mmart, ad.shopId.flatMap(shops.get), isHidden = !(ad eq ads.head))
        }
      }
    </div>

    @* Кнопочки-кружочки для перелистывания слайдов с офферами *@
    <div class="sm-offers-controller" id="smOffersController">
      <a href="" class="active"><span></span></a>
      <a href="" class=""><span></span></a>
    </div>

    @* Окно с выбором категорий *@
    @_categories(mmcats)

    @* Окно с предупреждением о выходе из Sio.Market *@
    @_exit_screen()

    <div class="sm-navigation">
      <div class="sm-buttons">
        <a class="sm-button" href="">Я ЗНАЮ, ЧТО ИЩУ</a>
        <a class="sm-button" href="">ПОМОГИТЕ МНЕ С ВЫБОРОМ</a>
      </div>
    </div>

  </div>

}