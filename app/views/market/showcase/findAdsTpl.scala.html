@(mmart: MAdnNode, ads: Seq[MAd], shops: Map[String, MAdnNode], mmcats: Seq[MMartCategory], adSearch:util.qsb.AdSearch, adProducerOpt: Option[MAdnNode])(implicit ctx: util.Context)

@if( adSearch.producerIdOpt ){

  @adProducerOpt.map { producer =>

    @* Список карточек указанного продюссера *@
    <div class="sio-mart__node-offers" id="sioMartNodeOffers">

      @producer.logoImgOpt.map { logoImg =>

      @* Кнопка назад / выход *@
      <div class="back-close-button">
        <div class="cb-i">
          <span class="back siomart-back-button" id="closeNodeOffersPopupButton"></span>
        </div>
      </div>

      <div class="sio-mart__producer-header" style="background-color: #@producer.meta.color;">
        <img class="sm-offer-logo" height="30" src="@ctx.myAudienceUrl@routes.Img.getImg(logoImg.id)"/>
        }
      </div>

      <div class="sio-mart__node-offers__scrollable_container">
      <div class="sio-mart__producer-popup-location">
        <span class="data">
          <span class="icon"></span>
          @producer.meta.name
          @if( producer.meta.floor ){<br/>@producer.meta.floor-й этаж}
        </span>
      </div>

      <div class="sio-mart__node-offers__block_container" id="sioMartNodeOffersBlockContainer">
      @if(!ads.isEmpty) {
        @_block_offers_list(mmart, ads, shops)
      }
      </div>

      <div class="sio-mart__node-offers_nav sm-nav-block js-popup-nav">
      </div>

      <div class="sio-mart__node-offers_spacer"></div>

      </div>
    </div>

  }

}else{
  @_block_offers_list(mmart, ads, shops, true)
}