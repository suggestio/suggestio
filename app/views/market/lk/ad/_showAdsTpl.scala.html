@(ads: Seq[MMartAd])(implicit ctx: util.Context)

@* Инлайновый список рекламных карточек в личном кабинете ТЦ или магазина. *@
@import ctx._
@import AdShowLevels._

@import ctx._

@helper.javascriptRouter("jsRoutes")(
  routes.javascript.MarketAd.updateShowLevelSubmit
)

@* Это сообщение для отладки. Удалить при первой необходимости. *@
@if(ads.isEmpty) {
  Нет рекламных карточек.
}

@ads.zipWithIndex.map { case (ad, i) =>

  <div class="item" style="@if(i%3 != 1) {margin-right: 30px;}">
    <div class="preview">
      <img src="@routes.Img.getThumb("asdasd", ad.picture)"/>
      <br/>
      <a href="@routes.MarketAd.editShopAd(ad.id.get)">@Messages("Edit")</a>

      @ad.offers.map {
        case prodOffer: MMartAdProduct => {
          @* Рендерим карточку с товаром и ценой *@
          <p>Производитель: @prodOffer.vendor.value</p>
          @prodOffer.oldPrice.map { oldPrice =>
            <p>Старая цена: @oldPrice.value</p>
          }
          <p>Новая цена: @prodOffer.price.value</p>
        }

        case discountOffer: MMartAdDiscount => {
          @* Рендерим карточку с указанием скидочной акции *@
          @discountOffer.text1.map { text1 =>
            <p>@text1.value</p>
          }
          <p>@discountOffer.discount.value</p>
          @discountOffer.text2.map { text2 =>
            <p>@text2.value</p>
          }
        }
      }
    </div>

    <div class="controls">
      <label>
        <input class="one-checkbox" type="checkbox" data-level="@LVL_MART_SHOPS" data-adid="@ad.id.get" data-name="lvl-mart-shops"/>Выводить в общем каталоге
      </label>
      <label>
        <input type="checkbox" data-level="@LVL_SHOP" data-adid="@ad.id.get" />Выводить в моём магазине
      </label>
      <label class="inactive">
        <input type="checkbox" data-level="@LVL_MART_SHOWCASE" data-adid="@ad.id.get" disabled="disabled" />Размещение на первом экране
      </label>
    </div>

  </div>

}
