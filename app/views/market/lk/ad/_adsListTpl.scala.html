@(mads: Seq[MAd], coverDisableReason: Boolean, startIndex: Int = 1, itemsInLine: Int = 4)(postContent: MAd => Html)(implicit ctx: util.Context)

@* Заготовка списка рекламных карточек на странице узла рекламной сети.
   postContent содержит функцию, которая генерит верстку для каждого элемента списка.
   coverDisableReason = false позволяет игнорировать наличие disableReason при рендере. *@

@import ctx._
@import AdShowLevels._
@import market.showcase._

@mads.zipWithIndex.map { case (mad, i) =>
  @defining( i + startIndex ) { i2 =>
  <div class="ads-list__block ads-list-block s-@i2 @if( i2 % itemsInLine == itemsInLine - 1 ){ ads-list__block_no-margin }">

    <div class="ads-list-block__preview">
      @if(coverDisableReason) {
        @_adDisableReasonCoverTpl(mad.disableReason)
      }
      <div class="ads-list-block__preview-container">
        @_single_offer(mad)
      </div>
      <div class="ads-list-block__zigzag-mask"></div>
    </div>

    @postContent(mad)

  </div>
  }
}

