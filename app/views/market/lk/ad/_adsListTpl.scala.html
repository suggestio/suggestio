@(mads: Seq[MAd], coverDisableReason: Boolean, startIndex: Int = 1, itemsInLine: Int = 4)(postContent: MAd => Html)(implicit ctx: util.Context)

@* Заготовка списка рекламных карточек на странице узла рекламной сети.
   postContent содержит функцию, которая генерит верстку для каждого элемента списка.
   coverDisableReason = false позволяет игнорировать наличие disableReason при рендере. *@

@import ctx._
@import AdShowLevels._
@import market.showcase._

@mads.zipWithIndex.map { case (mad, i) =>
  @defining( i + startIndex ) { i2 =>
    <div class="adv-item @if( i2 % itemsInLine == itemsInLine - 1 ){ __last-in-line }">

      <div class="adv-item_preview">
        @if(coverDisableReason) {
          @_adDisableReasonCoverTpl(mad.disableReason)
        }
        <div class="adv-item_preview-container">
          @_single_offer(mad)
        </div>
        <div class="adv-item_preview-border"></div>
      </div>

      @postContent(mad)

    </div>

    @if( i2 % itemsInLine == itemsInLine - 1 ){
      <div class="clear"></div>
    }
  }
}

