@(af: Form[_], isShown:Boolean = false)(implicit ctx: util.Context)

@* Product-часть формы: вендор, цены и их настройки. *@
@import ctx._
@import helper._
@import util.FormHelpers.myFields

@* TODO: Удалить, когда переезд на blocks будет завершен. *@

@mkField(clazz: String = "", style:String = "")(content: Html) = {
  <table cellpadding="0" cellspacing="0" class="input-wrap @clazz" @if(!style.isEmpty) { style="@style" }>
    @content
  </table>
}

<div class="tab-content"@if(!isShown) { style="display: none;"}>

  @* Строка "производитель" и её цвет. *@
  @mkField("big") {
    @inputText(
      af("ad.offer.vendor.value"),
      '_label -> "Производитель:",
      'id -> "vendorValueInput"
    )
    @_selectColorTpl("ad.offer.vendor.color", af)

    @if(!af.errors("ad.offer.vendor.value").isEmpty) {
      <tr>
        <td class="left">&nbsp;</td>
        <td class="err-msg" colspan="2">
          Поле заполнено некорректно!
        </td>
      </tr>
    }

  }

  @* Строка цены и её цвет. *@
  @mkField(style = "margin-bottom: 0;") {
    @inputText(
      af("ad.offer.price.value"),
      '_label -> "Цена:",
      'id -> "priceValueInput"
    )

    @_selectColorTpl("ad.offer.price.color", af)

    @if(!af.errors("ad.offer.price.value").isEmpty) {
      <tr>
        <td class="left">&nbsp;</td>
        <td class="err-msg" colspan="2">
          Поле заполнено некорректно!
        </td>
      </tr>
    }

  }

  @mkField(style = "margin-top: 10px;") {
    <td class="left">&nbsp;</td>
    <td class="right">
      <input type="checkbox" id="old-price-status" />
      <label for="old-price-status" class="gray">Перечеркнуть</label>
    </td>
  }

  @mkField("old-price", style = "display: none;") {
    @inputText(
      af("ad.offer.oldPrice.value"),
      '_label -> "Старая цена"
    )
    @_selectColorTpl("ad.offer.oldPrice.color", af)

    @if(!af.errors("ad.offer.oldPrice.value").isEmpty) {
      <tr>
        <td class="left">&nbsp;</td>
        <td class="err-msg" colspan="2">
          Поле заполнено некорректно!
        </td>
      </tr>
    }

  }
</div>

