@(mnodes: Seq[MAdnNode], currNode: Option[MAdnNode])(implicit ctx: Context)

@* Список узлов (личных кабинетов) юзера. *@

@lkBase(
  title = "Моя рекламная сеть",
  nodeOpt = currNode
) {

  <div class="viewport">
    <article class="page_cnt">

      <h1 class="page_title">Выбор магазина</h1>

      <span class="node-list_size">@mnodes.size</span>

      <div class="node-list">
        @defining( currNode.flatMap(_.id) ) { currAdnId =>
        @mnodes.map { mnode =>
          <div class="node-list_i">
            @* Текущему магазину добавлять класс __current. *@
            <a class="node-list_i-link @if(currAdnId == mnode.id){__current}"
               href="@routes.MarketLkAdn.showAdnNode(mnode.id.get)">@mnode.meta.name</a>
          </div>
        }
        }
      </div>

      @* Кнопка создания магазина. *@
      <a class="btn __size-M __helper-green node-list_add-btn" href="@routes.MarketLkAdn.createNode()">Добавить магазин</a>

    </article>
  </div>

}
