@(mshop: MAdnNode, eAct: EmailActivation, iaf: Form[_], withRegister:Boolean, withOfferText: Boolean)(implicit ctx: util.Context)

@* Страница с формой окончания invite-регистрации магазина. Тут можно ввести пароль и подправить имя магазина. *@
@import ctx._
@import market.lk._
@import helper._
@import util.FC.tdFc

@lkBase("Подтверждение регистрации") {


  <div class="title-wrap">
    <div class="center">
      <div class="title-inner">
        СОЗДАНИЕ ПРОФАЙЛА БУТИКА
      </div>
    </div>
  </div>

  <div class="body">

    <div class="success-label success-label__adn-invite-accept">
      <div class="success-label__icon"></div>
      <div class="success-label__title">Вы приглашены к участию в сиетеме Sio.Market</div>
    </div>

    @* Рендер текста открытой оферты. *@
    @if(withOfferText) {
      @market.contract._inviteWidgetTpl()
    }


    <div class="create-your-market">
      @form(routes.MarketShopLk.inviteAcceptSubmit(eaId=eAct.id.get, shopId=eAct.key)) {
        @* Имя магазина *@
        <table cellpadding="0" cellspacing="0" class="input-wrap big">
          @inputText(
            iaf("shopName"),
            '_label -> "Название бутика:"
          )
        </table>

        <table cellpadding="0" cellspacing="0" class="input-wrap big disabled">
          <td class="left">
            <label for="emailTextField">E-mail:</label>
          </td>

          <td class="right">
            <div class="input clearfix">
            <div class="input-shadow">
              <input id="emailTextField" type="text" disabled value="@eAct.email"/>
            </div>
            </div>
          </td>
        </table>


        <table cellpadding="0" cellspacing="0" class="input-wrap small disabled">
          <td class="left">
            <label for="floorTextField">Номер этажа:</label>
          </td>

          <td class="right">
            <div class="input clearfix">
              <div class="input-shadow">
                <input id="floorTextField" type="text" disabled="disabled" value="@mshop.meta.floor"/>
              </div>
            </div>
          </td>
        </table>

        <table cellpadding="0" cellspacing="0" class="input-wrap small disabled">
          <td class="left">
            <label for="floorTextField">Номер секции:</label>
          </td>

          <td class="right">
            <div class="input clearfix">
              <div class="input-shadow">
                <input id="floorTextField" type="text" disabled="disabled" value="@mshop.meta.section"/>
              </div>
            </div>
          </td>
        </table>


        @* Если юзер - анонимус, то надо показать поля ввода паролей. *@
        @if(withRegister) {
          @* Юзер вводит пароли *@

          <table cellpadding="0" cellspacing="0" class="input-wrap pass">
            <tr>
              @inputPassword(
                iaf("password.pw1"),
                '_label -> "Пароль:"
              )
              <td class="pass-text" rowspan="2">
                Используйте адрес электронной почты
                и пароль для следующего входа.
              </td>
            </tr>
            <tr>
              @inputPassword(
                iaf("password.pw2"),
                '_label -> "Подтверждение пароля:"
              )
            </tr>
          </table>


          @* TODO Нужна ссылка с формой для логина в систему, если юзер уже зареган, но ещё не залогинен. *@
        }

        <div class="submit-wrap">
          <div class="gray-but-wrap" style="margin-top: 25px; margin-bottom: 25px; margin-left: 120px;">
            <div class="white-border-top">
              <input class="btn" type="submit" value="@Messages("ПРОДОЛЖИТЬ")"/>
            </div>
          </div>
        </div>

      }
    </div>

  </div>

}
