@(mmart: MMart, mshop:MShop, mads:Seq[MMartAd])(implicit ctx:util.Context)

@* Страница отображения магазина для арендатора ТЦ (т.е. для владельца этого магазина). *@
@import market.lk._
@import routes.MarketShopLk._

@import ctx._
@import AdShowLevels._

@helper.javascriptRouter("jsRoutes")(
  routes.javascript.MarketAd.updateShowLevelSubmit
)

@lkBase(mshop.name) {

  <div class="title-wrap">
    <div class="center">
      <div class="title-inner">
        ЛИЧНЫЙ КАБИНЕТ АРЕНДАТОРА
      </div>
    </div>
  </div>

  <div class="body">

    <div class="shop-info">

      <div class="name-wrap">
        <span class="name">@mshop.name</span>
        <a class="edit" href="@editShopForm(mshop.id.get)">Редактировать</a>
      </div>
      <div class="border-line"></div>

      <table class="block">
        <tr>
          <td class="right" style="border-left: none; padding-left: 0;">
            <div class="shop-descr">
              @mshop.description
            </div>
          </td>
        </tr>
      </table>

      @* Отобразить основное описание магазина с кнопкой редактирования. *@
      @shop._shopShowTpl(
        mshop=mshop,
        editCall=routes.MarketShopLk.editShopForm(mshop.id.get)
      )

    </div>



    <div class="ads-list">
      <span class="title">Рекламные плакаты</span>
      <a class="add" href="@routes.MarketAd.createShopAd(mshop.id.get)">&nbsp;</a>
      @* market.lk.ad._showAdsTpl(mads) *@

      @mads.zipWithIndex.map { case (ad, i) =>

        <div class="item" style="@if(i%3 != 1) {margin-right: 30px;}">
          <div class="preview">
            <a class="hover" href="@routes.MarketAd.editShopAd(ad.id.get)">&nbsp;</a>

            @market.showcase._single_offer(ad, mmart, Some(mshop))
          </div>

          <div class="controls">
            <label>
              <input class="one-checkbox" type="checkbox" data-level="@LVL_MART_SHOPS" data-adid="@ad.id.get" data-name="lvl-mart-shops"/>Выводить в общем каталоге
            </label>
            <label>
              <input type="checkbox" data-level="@LVL_SHOP" data-adid="@ad.id.get" />Выводить в моём магазине
            </label>
            @defining(mshop.hasTopLevelAccess) { htl =>
              <label@if(!htl){ class="inactive"}>
                <input type="checkbox" data-level="@LVL_MART_SHOWCASE" data-adid="@ad.id.get"@if(!htl){ disabled="disabled"}/>Размещение на первом экране
              </label>
            }
          </div>


        </div>
      
      }
    </div>


  </div>

}
