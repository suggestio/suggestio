@(mshop: MAdnNode, mad: MAdT, mmart: MAdnNode, sahf: Form[_])(implicit ctx: util.Context)

@* Форма сокрытия рекламы магазина силами магазина (SioWeb/4.psd). *@
@import ctx._
@import helper._
@import controllers.MarketMartLk.HideShopAdActions._
@import util.FormHelpers._

<div class="popup disable-ad" id="disable-ad">
  <div class="hat">
    <a href="#" class="close">&nbsp;</a>
  </div>

  <div class="content">

    <div style="height: 600px; overflow: hidden;">
    <div class="ad-preview preview" style="height: 1024px; width: 768px; position: relative; -webkit-transform: scale3d(0.57,0.57,0.57); -webkit-transform-origin: 0px 0px;">
      @market.showcase._single_offer(mad, mshop, fallbackLogo = mmart.logoImgOpt)
    </div>
    </div>

    @form(routes.MarketMartLk.shopAdHideFormSubmit(mad.id.get)) {
      @* Допустимые значения: @HIDE, @DELETE. *@
      <input type="hidden" name="action" value="@HIDE"/>

      @if(!mad.isPublishedAt(mmart.id.get)) {
        <div class="hide-content">
          @* Причина сокрытия/удаления. *@
          <table cellpadding="0" cellspacing="0" class="input-wrap big textarea hide-label" style="margin-top: 20px;">
            @textarea(
              sahf("reason"),
              '_label -> "Причина",
              'placeholder -> "Напишите причину удаления"
            )
          </table>

          <div class="descr">
            Копия уведомления будет отправлена арендатору
            «<a href="@routes.MarketMartLk.showShop(mshop.id.get)">@mshop.meta.name</a>» на почту, указанную при регистрации.
          </div>
        </div>

        @* Видимо, надо две кнопки, которые будут сабмиттить одну и ту же форму с разными значениями поля action. *@

        <div class="ovh" style="text-align: center; margin-top: 20px;">
          <input class="blue-but-small" type="submit" value="Выключить" />
        </div>
      }

    }

  </div>

</div>

<script type="text/javascript">
  market.resize_preview_photos();
</script>