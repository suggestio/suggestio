@(jf: Form[_], btnClass: String, submitCall: Call, isWifi: Boolean)(implicit ctx: Context)

@import ctx._
@import helper._
@import util.FC.radialFc
@import controllers.MarketJoin.{CAPTCHA_ID_FN, CAPTCHA_TYPED_FN}
@import io.suggest.util.StringUtil.randomId

@form(submitCall) {

  <div class="popup_header __index">
    <a class="popup_close f-right icon-icomoon" href="@routes.Market.index"></a>
  </div>

  <div class="adv-req-form_fields">

    <h2 class="adv-req-form_title">
      Регистрация
    </h2>

    @inputText(
      jf("company"),
      '_label -> (Messages("Company") + ":"),
      'placeholder -> Messages("Company"),
      'autofocus -> "autofocus"
    )

    @inputText(
      jf("town"),
      '_label -> (Messages("Town") + ":"),
      'placeholder -> Messages("Town")
    )

    @textarea(
      jf("address"),
      '_label -> (Messages("Address") + ":"),
      'placeholder -> Messages("Address")
    )

    @inputText(
      jf("siteUrl"),
      '_label -> (Messages("Site") + ":"),
      'placeholder -> Messages("Site"),
      'type -> "url"
    )

    @inputText(
      jf("email"),
      '_label -> (Messages("constraint.email") + ":"),
      'placeholder -> Messages("constraint.email"),
      'type -> "email"
    )

    @inputText(
      jf("phone"),
      '_label -> (Messages("Office.phone.number") + ":"),
      'placeholder -> Messages("Office.phone.number"),
      'type -> "tel"
    )

    @textarea(
      jf("info"),
      '_label -> "Описание товаров или услуг:",
      'placeholder -> "Описание товаров или услуг"
    )

    <div class="captcha">
      @defining( jf(CAPTCHA_ID_FN).value.filter(!_.isEmpty).getOrElse(randomId(6, ctx.PRNG)) ) { captchaId =>
        <input id="captchaId" type="hidden" name="captchaId" value="@captchaId"/>
        <img class="captcha_img" id="captchaImage" src="@routes.Captcha.getCaptcha(captchaId)" alt=""/>
        <a class="captcha_reload-btn" id="captchaReload" href=""></a>
      }
    </div>

    @inputText(
      jf(CAPTCHA_TYPED_FN),
      '_label -> Messages("Input.text.from.picture"),
      'placeholder -> "Введите текст с картинки"
    )

  </div>

  <div class="popup_footer">

    <div class="btn-w __size-M">

      <input class="siom-new-btn __fill-1 __size-XS __list" type="submit" value="@Messages("Request.invite")" />

    </div>

  </div>


}
