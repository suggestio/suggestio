@(crf: Form[_], btnClass: String, submitCall: Call, isWifi: Boolean)(implicit ctx: Context)

@import ctx._
@import helper._
@import util.FC.radialFc
@import util.captcha.CaptchaUtil.{CAPTCHA_ID_FN, CAPTCHA_TYPED_FN}
@import io.suggest.util.StringUtil.randomId

@form(CSRF(submitCall), 'class -> "adv-req-page_call-back-form") {

  @* TODO Name нужно вставить в смысле имени, а не в смысле названия. *@
  @inputText(
    crf("name"),
    '_class       -> "__transparent",
    'placeholder  -> messages("Your.name")
  )

    @inputText(
      crf("phone"),
      '_class       -> "__transparent",
      'type         -> "tel",
      'mask         -> "tel",
      'placeholder  -> messages("Phone")
    )

    <div class="adv-req-page_call-time">
      <div class="adv-req-page_call-time-t">Время звонка</div>
      @defining( CallBackReqCallTimes.values.toSeq.sortBy(_.id) ) { cbrts =>
      @defining( crf("callTime").value.getOrElse(cbrts.head.formatTime) ) { cbrctV =>
        <div class="adv-req-page_call-time-btn-lst">
          @cbrts.map { cbrct =>
            @defining(cbrct.formatTime) { cbrctFmt =>
              <a class="adv-req-page_call-time-btn js-input-btn @if(cbrctFmt == cbrctV) {__js-act}" data-value="@cbrctFmt" data-for="#callTime">
                @cbrct.formatTimeStart&nbsp;-&nbsp;@cbrct.formatTimeEnd
              </a>
            }
          }
        </div>
        <input id="callTime" type="hidden" name="callTime" value="@cbrctV"/>
      }
      }
    </div>

    <div class="captcha">
      @defining( crf(CAPTCHA_ID_FN).value.filter(!_.isEmpty).getOrElse(randomId(6, ctx.PRNG)) ) { captchaId =>
        <input id="captchaId" type="hidden" name="captchaId" value="@captchaId"/>
        <div class="captcha_img" id="captchaImageCallbackForm" style="background: url( @routes.Captcha.getDigitalCaptcha(captchaId, submitCall.url) );" ></div>
        <a class="captcha_reload-btn" id="captchaReload" data-for="#captchaImageCallbackForm" href=""></a>
      }
    </div>

    @inputText(
      crf(CAPTCHA_TYPED_FN),
      '_class      -> "__transparent",
      'type        -> "tel",
      'placeholder -> messages("Type.digits.from.picture")
    )

    <div class="btn-w __size-M">
      <input class="siom-new-btn __size-M __fill-1" type="submit" value="Заказать" />
    </div>

} @* form *@
