@()(implicit c:util.Context)

@* Тут отображение главной страницы, в которой можно добавить сайт в кравлинг. *@

@import c.lang
@import stuff._

@head_after = {
    <link rel="stylesheet" type="text/css" href="@routes.Assets.at("stylesheets/crawl_index.css")"/>
}

@main(title=Messages("live_search_for_your_website"), head_after=head_after) {

<div class="popup-container">
    <div class="close-button">
	<a id="popupCloseButton" href=""></a>
    </div>

    <div id="feedbackPopup" class="popup-content-block feedback-form">
	<div class="feedback-sent feedback-sent-@c.lang_str">
	    <span>@Messages("message_sent")</span>
	</div>
	<div class="feedback-message feedback-message-@c.lang_str">
	    <span id="feedbackIntroMessage">@Messages("email_us_at") <a href="mailto:support@@suggest.io">support@@suggest.io</a>, @Messages("or_fill_the_form"):</span>
	</div>
	<form id="feedbackForm" action="/feedback/submit" method="post">
	    <fieldset>
		<label id="labelfeedbackEmail">@Messages("your_email")</label>
		<div class="input">
		    <input name="email" id="feedbackEmail" type="text"/>
		</div>
	    </fieldset>
	    <fieldset>
		<label id="labelfeedbackMessage">@Messages("your_message")</label>
		<div class="input">
		    <textarea name="message" id="feedbackMessage"></textarea>
		</div>
	    </fieldset>
	    <fieldset>
		<a class="submit submit-@c.lang_str" href=""></a>
		<input style="display: none;" class="submit" type="submit" value=""/>
	    </fieldset>
	</form>
    </div>

    <div id="aboutPopup" class="popup-content-block" style="display: none;">
	<div class="about-images">
	    <div class="image">
		<div class="title-@c.lang_str"></div>
		<div class="desc">
		    @Messages("about_step_one")
		</div>
	    </div>
	    <div class="image image-2">
		<div class="title-@c.lang_str"></div>
		<div class="desc">
		    @Messages("about_step_two")
		</div>
	    </div>
	    <div class="image image-3">
		<div class="title-@c.lang_str"></div>
		<div class="desc">
		    @Messages("about_step_three")
		</div>
	    </div>

	    <div class="sio-about-success">
		@Messages("install_success")
	    </div>

	</div>
    </div>
</div>

<div class="page-wrapper" id="pageWrapper">
    <div class="main-layout">

	<div class="lang-menu menu">
	    <a class="ru" href="/crawl/set_locale/ru">RU</a>  @* TODO выставить ссылку routes *@
	    <div class="delimiter"></div>
	    <a class="en" href="/crawl/set_locale/en">EN</a>  @* TODO выставить ссылку routes *@
	</div>

	<div class="login">
	    @if(c.isAuth) {
		<a href="{% url controller="admin" action="" %}"></a>
	    } else {
		<a href="" id="signin"></a>
	    }
	</div>

	<a class="logo" href=""></a>

	<div class="slogo-@c.lang_str"></div>

	<a href="mailto:support@@suggest.io" class="custom-solutions">
	    @Messages("custom_search_solutions_br")
	</a>

	@_topMenuTpl()

	<div class="first-step">
	    <div class="input" style="position: relative;">
		{% if not is_new_sites_allowed %}
		{% if not is_debug %}
		<div class="sio-wip">
		    <div class="sio-wip-message">@Messages("overloaded_message")</div>
		</div>
		{% endif %}
		{% endif %}
		<div class="input-shadow">
		    <div class="http-prefix">http://</div>
		    <div class="input-real"><input id="userSiteInput" type="text"/></div>
		    <div class="clear"></div>
		</div>
	    </div>
	    <div class="note">@Messages("provide_site_url_to_init_search")</div>
	</div>

	<div class="second-step">
	    <div class="digit">
		<div class="unactive"></div>
		<div class="active"></div>
	    </div>
	    <div class="label blue-label" id="installLabel" style="display: none;">@Messages("copy_js_code_to_your_site")</div>
	    <div class="input">
		<div class="input-shadow">
		    <textarea id="jsCodeTextarea"></textarea>
		</div>
	    </div>

	    <div class="install-explanation" id="installExplanation">
		<div class="note"><p>@Messages("code_must_be_on_all_site_pages")</p>
		    <p>@Messages("go_to_your_site_after_install")</p>
		</div>

	    </div>

	    <div class="clear"></div>

	</div>

    </div>

    <div class="start-button"><a href=""></a></div>

    @_copyright()
    @_social()

</div>

{% include "login/_persona.html" %}

<script type="text/javascript">

    $(document).bind('ready', function()
	    {
	    checkFeedbackLink();
	    });

var checkFeedbackLink = function()
{
    if( window.location.hash == '#feedback' )
    {
	$('.popup-content-block').hide();
	$('body').addClass('about-layer');
	$('#feedbackPopup').show();
    }
}

locale = '@c.lang_str';
site_indexation_caption_progress = '@Messages("site_indexation_caption")';

var crawler_events = 
{
   undefined_event		: '@Messages("undefined_event")',
   crawler_activity_label	: '@Messages("crawler_activity_label")',
   indexation_in_progress	: '@Messages("indexation_in_progress")',
   indexation_complete		: '@Messages("indexation_complete")',
   nxdomain			: '@Messages("nxdomain")',
   too_complex_content_or_overloaded_system : '@Messages("too_complex_content_or_overloaded_system")',
   unexpected_response_content	: '@Messages("unexpected_response_content")',
   econnrefused			: '@Messages("econnrefused")',
   econnreset			: '@Messages("econnreset")',
   econnaborted			: '@Messages("econnaborted")',
   crawler_error		: '@Messages("crawler_error")',
   indexation_error		: '@Messages("indexation_error")',
   unknown_character_encoding	: '@Messages("unknown_character_encoding")',
   page_deduplicated		: '@Messages("page_deduplicated")',
   page_crawled			: '@Messages("page_crawled")',
   average_response_time	: '@Messages("average_response_time")',
   stat_10min			: '@Messages("stat_10min")',
   stat_hour			: '@Messages("stat_hour")',
   stat_day			: '@Messages("stat_day")',
   stat_week			: '@Messages("stat_week")',
   stat_month			: '@Messages("stat_month")',
   stat_year			: '@Messages("stat_year")',
   http_request_timeout		: 'HTTP request timeout',
   http_404			: 'HTTP 404',
   http_500			: '@Messages("http_500")',
   url_crawled			: '@Messages("url_crawled")',
   hostname_prohibited		: '@Messages("hostname_prohibited")',
   zuck				: '@Messages("zuck")',
   durov			: '@Messages("durov")',
   invalid_url			: '@Messages("invalid_url")'
}

</script>

}
